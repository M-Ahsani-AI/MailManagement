{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\Documents\\\\CODE\\\\SURAT CV MALIKI\\\\frontend\\\\src\\\\components\\\\InvoiceForm.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/InvoiceForm.js\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { renderInvoiceTemplate } from '../utils/renderInvoiceTemplate';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction InvoiceForm({\n  initialData,\n  onSubmit,\n  onCancel,\n  isEditing,\n  profil = [],\n  kategori = [],\n  user\n}) {\n  _s();\n  var _initialData$meta_dat, _initialData$meta_dat2;\n  const [formData, setFormData] = useState(initialData);\n  const [dynamicFields, setDynamicFields] = useState(((_initialData$meta_dat = initialData.meta_data) === null || _initialData$meta_dat === void 0 ? void 0 : _initialData$meta_dat.dynamicFields) || {});\n  const [items, setItems] = useState(((_initialData$meta_dat2 = initialData.meta_data) === null || _initialData$meta_dat2 === void 0 ? void 0 : _initialData$meta_dat2.items) || []);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  // âœ… KOREKSI: Menyesuaikan state item\n  const [currentItem, setCurrentItem] = useState({\n    produk: '',\n    deskripsi: '',\n    qty: 1,\n    harga: ''\n  });\n  const [originalTemplate, setOriginalTemplate] = useState('');\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleDynamicChange = e => {\n    setDynamicFields(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleItemFormChange = e => {\n    setCurrentItem(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSaveItem = () => {\n    if (!currentItem.produk || !currentItem.harga) {\n      alert('Nama produk dan harga wajib diisi.');\n      return;\n    }\n    setItems([...items, currentItem]);\n    setCurrentItem({\n      produk: '',\n      deskripsi: '',\n      qty: 1,\n      harga: ''\n    });\n    setIsModalOpen(false);\n  };\n  const handleRemoveItem = indexToRemove => {\n    setItems(items.filter((_, index) => index !== indexToRemove));\n  };\n\n  // Efek untuk mengambil template\n  useEffect(() => {\n    const invKategori = kategori.find(k => k.kode === 'INV');\n    if (invKategori) {\n      setOriginalTemplate(invKategori.template || '');\n    }\n  }, [kategori]);\n\n  // Efek untuk render preview\n  useEffect(() => {\n    if (!originalTemplate) return;\n    const newContent = renderInvoiceTemplate(originalTemplate, formData, dynamicFields, items, user, profil);\n    if (newContent !== formData.isi) {\n      setFormData(prev => ({\n        ...prev,\n        isi: newContent\n      }));\n    }\n  }, [originalTemplate, formData.profil_id, formData.tanggal, dynamicFields, items, user, profil, formData.isi]);\n\n  // Efek untuk reset form\n  useEffect(() => {\n    var _initialData$meta_dat3, _initialData$meta_dat4;\n    setFormData(initialData);\n    setDynamicFields(((_initialData$meta_dat3 = initialData.meta_data) === null || _initialData$meta_dat3 === void 0 ? void 0 : _initialData$meta_dat3.dynamicFields) || {});\n    setItems(((_initialData$meta_dat4 = initialData.meta_data) === null || _initialData$meta_dat4 === void 0 ? void 0 : _initialData$meta_dat4.items) || []);\n  }, [initialData]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.profil_id || !formData.tanggal) {\n      alert('Tujuan dan Tanggal wajib diisi.');\n      return;\n    }\n    const dataToSend = {\n      ...formData,\n      meta_data: {\n        dynamicFields,\n        items\n      }\n    };\n    onSubmit(dataToSend);\n  };\n  const modules = useMemo(() => ({\n    toolbar: [['bold', 'italic'], [{\n      'list': 'ordered'\n    }, {\n      'list': 'bullet'\n    }]]\n  }), []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg w-full max-w-4xl flex flex-col max-h-[95vh]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold p-6 pb-4 flex-shrink-0\",\n          children: isEditing ? 'Edit Invoice' : 'Tambah Invoice'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow overflow-y-auto px-6 pb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"tanggal\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Tanggal Invoice\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"tanggal\",\n                  name: \"tanggal\",\n                  type: \"date\",\n                  value: formData.tanggal || '',\n                  onChange: handleChange,\n                  required: true,\n                  className: \"mt-1 w-full border p-2 rounded-md shadow-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"profil_id\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Tujuan (Profil)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"profil_id\",\n                  name: \"profil_id\",\n                  value: formData.profil_id || '',\n                  onChange: handleChange,\n                  required: true,\n                  className: \"mt-1 w-full border p-2 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- Pilih Profil Tujuan --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 21\n                  }, this), profil.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: p.id,\n                    children: p.nama\n                  }, p.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 39\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-l-4 border-gray-300 bg-gray-50 my-4 rounded-r-lg space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold text-gray-800\",\n                children: \"Detail Invoice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"tanggal_jatuh_tempo\",\n                  type: \"date\",\n                  value: dynamicFields.tanggal_jatuh_tempo || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Tgl Jatuh Tempo\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"npwp\",\n                  value: dynamicFields.npwp || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"No. NPWP\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"nama_penandatangan\",\n                  value: dynamicFields.nama_penandatangan || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Nama Penandatangan\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"kota_surat\",\n                  value: dynamicFields.kota_surat || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Kota Penerbitan\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 18\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-l-4 border-blue-300 bg-blue-50 my-4 rounded-r-lg space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold text-gray-800\",\n                children: \"Item & Kalkulasi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setIsModalOpen(true),\n                className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n                children: \"+ Tambah Item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 mt-2\",\n                children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 p-2 bg-blue-100 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [index + 1, \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex-grow\",\n                    children: [item.produk, \" (Qty: \", item.qty, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => handleRemoveItem(index),\n                    className: \"text-red-500 font-bold\",\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 31\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 md:grid-cols-4 gap-4 border-t pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"ppn_persen\",\n                  type: \"number\",\n                  value: dynamicFields.ppn_persen || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"PPN (%)\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"pph_persen\",\n                  type: \"number\",\n                  value: dynamicFields.pph_persen || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"PPh (%)\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"pembulatan\",\n                  type: \"number\",\n                  value: dynamicFields.pembulatan || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Pembulatan\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"lunas\",\n                  type: \"number\",\n                  value: dynamicFields.lunas || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Sudah Dibayar\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Preview Invoice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n                theme: \"snow\",\n                value: formData.isi || '',\n                onChange: content => setFormData(prev => ({\n                  ...prev,\n                  isi: content\n                })),\n                modules: modules,\n                className: \"mt-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-end pt-4 gap-2 border-t mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: onCancel,\n                className: \"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\",\n                children: \"Batal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\",\n                children: isEditing ? 'Simpan Perubahan' : 'Buat Invoice'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold\",\n          children: \"Tambah Item Invoice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"produk\",\n          value: currentItem.produk,\n          onChange: handleItemFormChange,\n          placeholder: \"Nama Produk/Jasa\",\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"deskripsi\",\n          value: currentItem.deskripsi,\n          onChange: handleItemFormChange,\n          placeholder: \"Deskripsi (Opsional)\",\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"qty\",\n            type: \"number\",\n            min: \"1\",\n            value: currentItem.qty,\n            onChange: handleItemFormChange,\n            placeholder: \"Qty\",\n            className: \"w-full border p-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"harga\",\n            type: \"number\",\n            min: \"0\",\n            value: currentItem.harga,\n            onChange: handleItemFormChange,\n            placeholder: \"Harga Satuan\",\n            className: \"w-full border p-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setIsModalOpen(false),\n            className: \"px-4 py-2 bg-gray-600 text-white rounded\",\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleSaveItem,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded\",\n            children: \"Simpan Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(InvoiceForm, \"/bNnTQ/SAfbKZxS5Nz4+jdhgw1I=\");\n_c = InvoiceForm;\nexport default InvoiceForm;\nvar _c;\n$RefreshReg$(_c, \"InvoiceForm\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","ReactQuill","renderInvoiceTemplate","jsxDEV","_jsxDEV","Fragment","_Fragment","InvoiceForm","initialData","onSubmit","onCancel","isEditing","profil","kategori","user","_s","_initialData$meta_dat","_initialData$meta_dat2","formData","setFormData","dynamicFields","setDynamicFields","meta_data","items","setItems","isModalOpen","setIsModalOpen","currentItem","setCurrentItem","produk","deskripsi","qty","harga","originalTemplate","setOriginalTemplate","handleChange","e","target","name","value","handleDynamicChange","prev","handleItemFormChange","handleSaveItem","alert","handleRemoveItem","indexToRemove","filter","_","index","invKategori","find","k","kode","template","newContent","isi","profil_id","tanggal","_initialData$meta_dat3","_initialData$meta_dat4","handleSubmit","preventDefault","dataToSend","modules","toolbar","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","type","onChange","required","map","p","nama","tanggal_jatuh_tempo","placeholder","npwp","nama_penandatangan","kota_surat","onClick","item","ppn_persen","pph_persen","pembulatan","lunas","theme","content","min","_c","$RefreshReg$"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/components/InvoiceForm.js"],"sourcesContent":["// frontend/src/components/InvoiceForm.js\r\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport { renderInvoiceTemplate } from '../utils/renderInvoiceTemplate';\r\n\r\nfunction InvoiceForm({ initialData, onSubmit, onCancel, isEditing, profil = [], kategori = [], user }) {\r\n  const [formData, setFormData] = useState(initialData);\r\n  const [dynamicFields, setDynamicFields] = useState(initialData.meta_data?.dynamicFields || {});\r\n  const [items, setItems] = useState(initialData.meta_data?.items || []);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  // âœ… KOREKSI: Menyesuaikan state item\r\n  const [currentItem, setCurrentItem] = useState({ produk: '', deskripsi: '', qty: 1, harga: '' });\r\n  const [originalTemplate, setOriginalTemplate] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleDynamicChange = (e) => {\r\n    setDynamicFields(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleItemFormChange = (e) => {\r\n    setCurrentItem(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (!currentItem.produk || !currentItem.harga) {\r\n      alert('Nama produk dan harga wajib diisi.');\r\n      return;\r\n    }\r\n    setItems([...items, currentItem]);\r\n    setCurrentItem({ produk: '', deskripsi: '', qty: 1, harga: '' });\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const handleRemoveItem = (indexToRemove) => {\r\n    setItems(items.filter((_, index) => index !== indexToRemove));\r\n  };\r\n\r\n  // Efek untuk mengambil template\r\n  useEffect(() => {\r\n    const invKategori = kategori.find(k => k.kode === 'INV');\r\n    if (invKategori) {\r\n      setOriginalTemplate(invKategori.template || '');\r\n    }\r\n  }, [kategori]);\r\n\r\n  // Efek untuk render preview\r\n  useEffect(() => {\r\n    if (!originalTemplate) return;\r\n    const newContent = renderInvoiceTemplate(originalTemplate, formData, dynamicFields, items, user, profil);\r\n    if (newContent !== formData.isi) {\r\n      setFormData(prev => ({ ...prev, isi: newContent }));\r\n    }\r\n  }, [originalTemplate, formData.profil_id, formData.tanggal, dynamicFields, items, user, profil, formData.isi]);\r\n\r\n  // Efek untuk reset form\r\n  useEffect(() => {\r\n    setFormData(initialData);\r\n    setDynamicFields(initialData.meta_data?.dynamicFields || {});\r\n    setItems(initialData.meta_data?.items || []);\r\n  }, [initialData]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!formData.profil_id || !formData.tanggal) {\r\n      alert('Tujuan dan Tanggal wajib diisi.');\r\n      return;\r\n    }\r\n    const dataToSend = { ...formData, meta_data: { dynamicFields, items } };\r\n    onSubmit(dataToSend);\r\n  };\r\n\r\n  const modules = useMemo(() => ({ toolbar: [['bold', 'italic'],[{'list': 'ordered'}, {'list': 'bullet'}]] }), []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div className=\"bg-white rounded-lg shadow-lg w-full max-w-4xl flex flex-col max-h-[95vh]\">\r\n          <h3 className=\"text-xl font-bold p-6 pb-4 flex-shrink-0\">{isEditing ? 'Edit Invoice' : 'Tambah Invoice'}</h3>\r\n          <div className=\"flex-grow overflow-y-auto px-6 pb-6\">\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              {/* --- BAGIAN DATA UTAMA --- */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label htmlFor=\"tanggal\" className=\"block text-sm font-medium text-gray-700\">Tanggal Invoice</label>\r\n                  <input id=\"tanggal\" name=\"tanggal\" type=\"date\" value={formData.tanggal || ''} onChange={handleChange} required className=\"mt-1 w-full border p-2 rounded-md shadow-sm\"/>\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"profil_id\" className=\"block text-sm font-medium text-gray-700\">Tujuan (Profil)</label>\r\n                  <select id=\"profil_id\" name=\"profil_id\" value={formData.profil_id || ''} onChange={handleChange} required className=\"mt-1 w-full border p-2 rounded-md shadow-sm\">\r\n                    <option value=\"\">-- Pilih Profil Tujuan --</option>\r\n                    {profil.map(p => (<option key={p.id} value={p.id}>{p.nama}</option>))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* --- BAGIAN DETAIL INVOICE & PAJAK --- */}\r\n              <div className=\"p-4 border-l-4 border-gray-300 bg-gray-50 my-4 rounded-r-lg space-y-4\">\r\n                 <h4 className=\"font-bold text-gray-800\">Detail Invoice</h4>\r\n                 <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <input name=\"tanggal_jatuh_tempo\" type=\"date\" value={dynamicFields.tanggal_jatuh_tempo || ''} onChange={handleDynamicChange} placeholder=\"Tgl Jatuh Tempo\" className=\"border p-2 rounded-md\"/>\r\n                    <input name=\"npwp\" value={dynamicFields.npwp || ''} onChange={handleDynamicChange} placeholder=\"No. NPWP\" className=\"border p-2 rounded-md\"/>\r\n                    <input name=\"nama_penandatangan\" value={dynamicFields.nama_penandatangan || ''} onChange={handleDynamicChange} placeholder=\"Nama Penandatangan\" className=\"border p-2 rounded-md\"/>\r\n                    <input name=\"kota_surat\" value={dynamicFields.kota_surat || ''} onChange={handleDynamicChange} placeholder=\"Kota Penerbitan\" className=\"border p-2 rounded-md\"/>\r\n                 </div>\r\n              </div>\r\n\r\n              {/* --- BAGIAN ITEM & KALKULASI --- */}\r\n              <div className=\"p-4 border-l-4 border-blue-300 bg-blue-50 my-4 rounded-r-lg space-y-4\">\r\n                  <h4 className=\"font-bold text-gray-800\">Item & Kalkulasi</h4>\r\n                  <button type=\"button\" onClick={() => setIsModalOpen(true)} className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\">+ Tambah Item</button>\r\n                  <div className=\"space-y-2 mt-2\">\r\n                      {items.map((item, index) => (\r\n                          <div key={index} className=\"flex items-center gap-2 p-2 bg-blue-100 rounded\">\r\n                              <span className=\"font-semibold\">{index + 1}.</span>\r\n                              <span className=\"flex-grow\">{item.produk} (Qty: {item.qty})</span>\r\n                              <button type=\"button\" onClick={() => handleRemoveItem(index)} className=\"text-red-500 font-bold\">X</button>\r\n                          </div>\r\n                      ))}\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 border-t pt-4\">\r\n                      <input name=\"ppn_persen\" type=\"number\" value={dynamicFields.ppn_persen || ''} onChange={handleDynamicChange} placeholder=\"PPN (%)\" className=\"border p-2 rounded-md\"/>\r\n                      <input name=\"pph_persen\" type=\"number\" value={dynamicFields.pph_persen || ''} onChange={handleDynamicChange} placeholder=\"PPh (%)\" className=\"border p-2 rounded-md\"/>\r\n                      <input name=\"pembulatan\" type=\"number\" value={dynamicFields.pembulatan || ''} onChange={handleDynamicChange} placeholder=\"Pembulatan\" className=\"border p-2 rounded-md\"/>\r\n                      <input name=\"lunas\" type=\"number\" value={dynamicFields.lunas || ''} onChange={handleDynamicChange} placeholder=\"Sudah Dibayar\" className=\"border p-2 rounded-md\"/>\r\n                  </div>\r\n              </div>\r\n              \r\n              {/* --- PREVIEW --- */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">Preview Invoice</label>\r\n                <ReactQuill theme=\"snow\" value={formData.isi || ''} onChange={(content) => setFormData(prev => ({ ...prev, isi: content }))} modules={modules} className=\"mt-1\"/>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end pt-4 gap-2 border-t mt-4\">\r\n                <button type=\"button\" onClick={onCancel} className=\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\">Batal</button>\r\n                <button type=\"submit\" className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\">{isEditing ? 'Simpan Perubahan' : 'Buat Invoice'}</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {isModalOpen && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60]\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg space-y-4\">\r\n            <h3 className=\"text-xl font-bold\">Tambah Item Invoice</h3>\r\n            <input name=\"produk\" value={currentItem.produk} onChange={handleItemFormChange} placeholder=\"Nama Produk/Jasa\" className=\"w-full border p-2 rounded\"/>\r\n            <input name=\"deskripsi\" value={currentItem.deskripsi} onChange={handleItemFormChange} placeholder=\"Deskripsi (Opsional)\" className=\"w-full border p-2 rounded\"/>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <input name=\"qty\" type=\"number\" min=\"1\" value={currentItem.qty} onChange={handleItemFormChange} placeholder=\"Qty\" className=\"w-full border p-2 rounded\"/>\r\n                <input name=\"harga\" type=\"number\" min=\"0\" value={currentItem.harga} onChange={handleItemFormChange} placeholder=\"Harga Satuan\" className=\"w-full border p-2 rounded\"/>\r\n            </div>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"px-4 py-2 bg-gray-600 text-white rounded\">Batal</button>\r\n              <button type=\"button\" onClick={handleSaveItem} className=\"px-4 py-2 bg-blue-600 text-white rounded\">Simpan Item</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InvoiceForm;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,EAAEC,WAAW,QAAQ,OAAO;AACxE,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAO,iCAAiC;AACxC,SAASC,qBAAqB,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvE,SAASC,WAAWA,CAAC;EAAEC,WAAW;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,SAAS;EAAEC,MAAM,GAAG,EAAE;EAAEC,QAAQ,GAAG,EAAE;EAAEC;AAAK,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,qBAAA,EAAAC,sBAAA;EACrG,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAACW,WAAW,CAAC;EACrD,MAAM,CAACY,aAAa,EAAEC,gBAAgB,CAAC,GAAGxB,QAAQ,CAAC,EAAAmB,qBAAA,GAAAR,WAAW,CAACc,SAAS,cAAAN,qBAAA,uBAArBA,qBAAA,CAAuBI,aAAa,KAAI,CAAC,CAAC,CAAC;EAC9F,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,EAAAoB,sBAAA,GAAAT,WAAW,CAACc,SAAS,cAAAL,sBAAA,uBAArBA,sBAAA,CAAuBM,KAAK,KAAI,EAAE,CAAC;EACtE,MAAM,CAACE,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EACrD;EACA,MAAM,CAAC8B,WAAW,EAAEC,cAAc,CAAC,GAAG/B,QAAQ,CAAC;IAAEgC,MAAM,EAAE,EAAE;IAAEC,SAAS,EAAE,EAAE;IAAEC,GAAG,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAG,CAAC,CAAC;EAChG,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EAE5D,MAAMsC,YAAY,GAAIC,CAAC,IAAK;IAC1BjB,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACkB,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC;EAC/D,CAAC;EAED,MAAMC,mBAAmB,GAAIJ,CAAC,IAAK;IACjCf,gBAAgB,CAACoB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACL,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC,CAAC;EAC1E,CAAC;EAED,MAAMG,oBAAoB,GAAIN,CAAC,IAAK;IAClCR,cAAc,CAACa,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACL,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC,CAAC;EACxE,CAAC;EAED,MAAMI,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAAChB,WAAW,CAACE,MAAM,IAAI,CAACF,WAAW,CAACK,KAAK,EAAE;MAC7CY,KAAK,CAAC,oCAAoC,CAAC;MAC3C;IACF;IACApB,QAAQ,CAAC,CAAC,GAAGD,KAAK,EAAEI,WAAW,CAAC,CAAC;IACjCC,cAAc,CAAC;MAAEC,MAAM,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,GAAG,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAG,CAAC,CAAC;IAChEN,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,MAAMmB,gBAAgB,GAAIC,aAAa,IAAK;IAC1CtB,QAAQ,CAACD,KAAK,CAACwB,MAAM,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAKA,KAAK,KAAKH,aAAa,CAAC,CAAC;EAC/D,CAAC;;EAED;EACAhD,SAAS,CAAC,MAAM;IACd,MAAMoD,WAAW,GAAGrC,QAAQ,CAACsC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,KAAK,CAAC;IACxD,IAAIH,WAAW,EAAE;MACfhB,mBAAmB,CAACgB,WAAW,CAACI,QAAQ,IAAI,EAAE,CAAC;IACjD;EACF,CAAC,EAAE,CAACzC,QAAQ,CAAC,CAAC;;EAEd;EACAf,SAAS,CAAC,MAAM;IACd,IAAI,CAACmC,gBAAgB,EAAE;IACvB,MAAMsB,UAAU,GAAGrD,qBAAqB,CAAC+B,gBAAgB,EAAEf,QAAQ,EAAEE,aAAa,EAAEG,KAAK,EAAET,IAAI,EAAEF,MAAM,CAAC;IACxG,IAAI2C,UAAU,KAAKrC,QAAQ,CAACsC,GAAG,EAAE;MAC/BrC,WAAW,CAACsB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEe,GAAG,EAAED;MAAW,CAAC,CAAC,CAAC;IACrD;EACF,CAAC,EAAE,CAACtB,gBAAgB,EAAEf,QAAQ,CAACuC,SAAS,EAAEvC,QAAQ,CAACwC,OAAO,EAAEtC,aAAa,EAAEG,KAAK,EAAET,IAAI,EAAEF,MAAM,EAAEM,QAAQ,CAACsC,GAAG,CAAC,CAAC;;EAE9G;EACA1D,SAAS,CAAC,MAAM;IAAA,IAAA6D,sBAAA,EAAAC,sBAAA;IACdzC,WAAW,CAACX,WAAW,CAAC;IACxBa,gBAAgB,CAAC,EAAAsC,sBAAA,GAAAnD,WAAW,CAACc,SAAS,cAAAqC,sBAAA,uBAArBA,sBAAA,CAAuBvC,aAAa,KAAI,CAAC,CAAC,CAAC;IAC5DI,QAAQ,CAAC,EAAAoC,sBAAA,GAAApD,WAAW,CAACc,SAAS,cAAAsC,sBAAA,uBAArBA,sBAAA,CAAuBrC,KAAK,KAAI,EAAE,CAAC;EAC9C,CAAC,EAAE,CAACf,WAAW,CAAC,CAAC;EAEjB,MAAMqD,YAAY,GAAIzB,CAAC,IAAK;IAC1BA,CAAC,CAAC0B,cAAc,CAAC,CAAC;IAClB,IAAI,CAAC5C,QAAQ,CAACuC,SAAS,IAAI,CAACvC,QAAQ,CAACwC,OAAO,EAAE;MAC5Cd,KAAK,CAAC,iCAAiC,CAAC;MACxC;IACF;IACA,MAAMmB,UAAU,GAAG;MAAE,GAAG7C,QAAQ;MAAEI,SAAS,EAAE;QAAEF,aAAa;QAAEG;MAAM;IAAE,CAAC;IACvEd,QAAQ,CAACsD,UAAU,CAAC;EACtB,CAAC;EAED,MAAMC,OAAO,GAAGjE,OAAO,CAAC,OAAO;IAAEkE,OAAO,EAAE,CAAC,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAC,CAAC;MAAC,MAAM,EAAE;IAAS,CAAC,EAAE;MAAC,MAAM,EAAE;IAAQ,CAAC,CAAC;EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EAEhH,oBACE7D,OAAA,CAAAE,SAAA;IAAA4D,QAAA,gBACE9D,OAAA;MAAK+D,SAAS,EAAC,gFAAgF;MAAAD,QAAA,eAC7F9D,OAAA;QAAK+D,SAAS,EAAC,2EAA2E;QAAAD,QAAA,gBACxF9D,OAAA;UAAI+D,SAAS,EAAC,0CAA0C;UAAAD,QAAA,EAAEvD,SAAS,GAAG,cAAc,GAAG;QAAgB;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC7GnE,OAAA;UAAK+D,SAAS,EAAC,qCAAqC;UAAAD,QAAA,eAClD9D,OAAA;YAAMK,QAAQ,EAAEoD,YAAa;YAACM,SAAS,EAAC,WAAW;YAAAD,QAAA,gBAEjD9D,OAAA;cAAK+D,SAAS,EAAC,uCAAuC;cAAAD,QAAA,gBACpD9D,OAAA;gBAAA8D,QAAA,gBACE9D,OAAA;kBAAOoE,OAAO,EAAC,SAAS;kBAACL,SAAS,EAAC,yCAAyC;kBAAAD,QAAA,EAAC;gBAAe;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACpGnE,OAAA;kBAAOqE,EAAE,EAAC,SAAS;kBAACnC,IAAI,EAAC,SAAS;kBAACoC,IAAI,EAAC,MAAM;kBAACnC,KAAK,EAAErB,QAAQ,CAACwC,OAAO,IAAI,EAAG;kBAACiB,QAAQ,EAAExC,YAAa;kBAACyC,QAAQ;kBAACT,SAAS,EAAC;gBAA6C;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrK,CAAC,eACNnE,OAAA;gBAAA8D,QAAA,gBACE9D,OAAA;kBAAOoE,OAAO,EAAC,WAAW;kBAACL,SAAS,EAAC,yCAAyC;kBAAAD,QAAA,EAAC;gBAAe;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACtGnE,OAAA;kBAAQqE,EAAE,EAAC,WAAW;kBAACnC,IAAI,EAAC,WAAW;kBAACC,KAAK,EAAErB,QAAQ,CAACuC,SAAS,IAAI,EAAG;kBAACkB,QAAQ,EAAExC,YAAa;kBAACyC,QAAQ;kBAACT,SAAS,EAAC,6CAA6C;kBAAAD,QAAA,gBAC/J9D,OAAA;oBAAQmC,KAAK,EAAC,EAAE;oBAAA2B,QAAA,EAAC;kBAAyB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,EAClD3D,MAAM,CAACiE,GAAG,CAACC,CAAC,iBAAK1E,OAAA;oBAAmBmC,KAAK,EAAEuC,CAAC,CAACL,EAAG;oBAAAP,QAAA,EAAEY,CAAC,CAACC;kBAAI,GAA1BD,CAAC,CAACL,EAAE;oBAAAL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAA+B,CAAE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/D,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGNnE,OAAA;cAAK+D,SAAS,EAAC,uEAAuE;cAAAD,QAAA,gBACnF9D,OAAA;gBAAI+D,SAAS,EAAC,yBAAyB;gBAAAD,QAAA,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3DnE,OAAA;gBAAK+D,SAAS,EAAC,uCAAuC;gBAAAD,QAAA,gBACnD9D,OAAA;kBAAOkC,IAAI,EAAC,qBAAqB;kBAACoC,IAAI,EAAC,MAAM;kBAACnC,KAAK,EAAEnB,aAAa,CAAC4D,mBAAmB,IAAI,EAAG;kBAACL,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,iBAAiB;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC,eAC9LnE,OAAA;kBAAOkC,IAAI,EAAC,MAAM;kBAACC,KAAK,EAAEnB,aAAa,CAAC8D,IAAI,IAAI,EAAG;kBAACP,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,UAAU;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC,eAC7InE,OAAA;kBAAOkC,IAAI,EAAC,oBAAoB;kBAACC,KAAK,EAAEnB,aAAa,CAAC+D,kBAAkB,IAAI,EAAG;kBAACR,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,oBAAoB;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC,eACnLnE,OAAA;kBAAOkC,IAAI,EAAC,YAAY;kBAACC,KAAK,EAAEnB,aAAa,CAACgE,UAAU,IAAI,EAAG;kBAACT,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,iBAAiB;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9J,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eAGNnE,OAAA;cAAK+D,SAAS,EAAC,uEAAuE;cAAAD,QAAA,gBAClF9D,OAAA;gBAAI+D,SAAS,EAAC,yBAAyB;gBAAAD,QAAA,EAAC;cAAgB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7DnE,OAAA;gBAAQsE,IAAI,EAAC,QAAQ;gBAACW,OAAO,EAAEA,CAAA,KAAM3D,cAAc,CAAC,IAAI,CAAE;gBAACyC,SAAS,EAAC,4DAA4D;gBAAAD,QAAA,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACxJnE,OAAA;gBAAK+D,SAAS,EAAC,gBAAgB;gBAAAD,QAAA,EAC1B3C,KAAK,CAACsD,GAAG,CAAC,CAACS,IAAI,EAAErC,KAAK,kBACnB7C,OAAA;kBAAiB+D,SAAS,EAAC,iDAAiD;kBAAAD,QAAA,gBACxE9D,OAAA;oBAAM+D,SAAS,EAAC,eAAe;oBAAAD,QAAA,GAAEjB,KAAK,GAAG,CAAC,EAAC,GAAC;kBAAA;oBAAAmB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACnDnE,OAAA;oBAAM+D,SAAS,EAAC,WAAW;oBAAAD,QAAA,GAAEoB,IAAI,CAACzD,MAAM,EAAC,SAAO,EAACyD,IAAI,CAACvD,GAAG,EAAC,GAAC;kBAAA;oBAAAqC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAClEnE,OAAA;oBAAQsE,IAAI,EAAC,QAAQ;oBAACW,OAAO,EAAEA,CAAA,KAAMxC,gBAAgB,CAACI,KAAK,CAAE;oBAACkB,SAAS,EAAC,wBAAwB;oBAAAD,QAAA,EAAC;kBAAC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA,GAHrGtB,KAAK;kBAAAmB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAIV,CACR;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eACNnE,OAAA;gBAAK+D,SAAS,EAAC,qDAAqD;gBAAAD,QAAA,gBAChE9D,OAAA;kBAAOkC,IAAI,EAAC,YAAY;kBAACoC,IAAI,EAAC,QAAQ;kBAACnC,KAAK,EAAEnB,aAAa,CAACmE,UAAU,IAAI,EAAG;kBAACZ,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,SAAS;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC,eACtKnE,OAAA;kBAAOkC,IAAI,EAAC,YAAY;kBAACoC,IAAI,EAAC,QAAQ;kBAACnC,KAAK,EAAEnB,aAAa,CAACoE,UAAU,IAAI,EAAG;kBAACb,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,SAAS;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC,eACtKnE,OAAA;kBAAOkC,IAAI,EAAC,YAAY;kBAACoC,IAAI,EAAC,QAAQ;kBAACnC,KAAK,EAAEnB,aAAa,CAACqE,UAAU,IAAI,EAAG;kBAACd,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,YAAY;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC,eACzKnE,OAAA;kBAAOkC,IAAI,EAAC,OAAO;kBAACoC,IAAI,EAAC,QAAQ;kBAACnC,KAAK,EAAEnB,aAAa,CAACsE,KAAK,IAAI,EAAG;kBAACf,QAAQ,EAAEnC,mBAAoB;kBAACyC,WAAW,EAAC,eAAe;kBAACd,SAAS,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eAGNnE,OAAA;cAAA8D,QAAA,gBACE9D,OAAA;gBAAO+D,SAAS,EAAC,yCAAyC;gBAAAD,QAAA,EAAC;cAAe;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClFnE,OAAA,CAACH,UAAU;gBAAC0F,KAAK,EAAC,MAAM;gBAACpD,KAAK,EAAErB,QAAQ,CAACsC,GAAG,IAAI,EAAG;gBAACmB,QAAQ,EAAGiB,OAAO,IAAKzE,WAAW,CAACsB,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAEe,GAAG,EAAEoC;gBAAQ,CAAC,CAAC,CAAE;gBAAC5B,OAAO,EAAEA,OAAQ;gBAACG,SAAS,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9J,CAAC,eAENnE,OAAA;cAAK+D,SAAS,EAAC,2CAA2C;cAAAD,QAAA,gBACxD9D,OAAA;gBAAQsE,IAAI,EAAC,QAAQ;gBAACW,OAAO,EAAE3E,QAAS;gBAACyD,SAAS,EAAC,4DAA4D;gBAAAD,QAAA,EAAC;cAAK;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC9HnE,OAAA;gBAAQsE,IAAI,EAAC,QAAQ;gBAACP,SAAS,EAAC,8DAA8D;gBAAAD,QAAA,EAAEvD,SAAS,GAAG,kBAAkB,GAAG;cAAc;gBAAAyD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAS,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEL9C,WAAW,iBACVrB,OAAA;MAAK+D,SAAS,EAAC,8EAA8E;MAAAD,QAAA,eAC3F9D,OAAA;QAAK+D,SAAS,EAAC,6DAA6D;QAAAD,QAAA,gBAC1E9D,OAAA;UAAI+D,SAAS,EAAC,mBAAmB;UAAAD,QAAA,EAAC;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC1DnE,OAAA;UAAOkC,IAAI,EAAC,QAAQ;UAACC,KAAK,EAAEZ,WAAW,CAACE,MAAO;UAAC8C,QAAQ,EAAEjC,oBAAqB;UAACuC,WAAW,EAAC,kBAAkB;UAACd,SAAS,EAAC;QAA2B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eACtJnE,OAAA;UAAOkC,IAAI,EAAC,WAAW;UAACC,KAAK,EAAEZ,WAAW,CAACG,SAAU;UAAC6C,QAAQ,EAAEjC,oBAAqB;UAACuC,WAAW,EAAC,sBAAsB;UAACd,SAAS,EAAC;QAA2B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eAChKnE,OAAA;UAAK+D,SAAS,EAAC,wBAAwB;UAAAD,QAAA,gBACnC9D,OAAA;YAAOkC,IAAI,EAAC,KAAK;YAACoC,IAAI,EAAC,QAAQ;YAACmB,GAAG,EAAC,GAAG;YAACtD,KAAK,EAAEZ,WAAW,CAACI,GAAI;YAAC4C,QAAQ,EAAEjC,oBAAqB;YAACuC,WAAW,EAAC,KAAK;YAACd,SAAS,EAAC;UAA2B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eACzJnE,OAAA;YAAOkC,IAAI,EAAC,OAAO;YAACoC,IAAI,EAAC,QAAQ;YAACmB,GAAG,EAAC,GAAG;YAACtD,KAAK,EAAEZ,WAAW,CAACK,KAAM;YAAC2C,QAAQ,EAAEjC,oBAAqB;YAACuC,WAAW,EAAC,cAAc;YAACd,SAAS,EAAC;UAA2B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrK,CAAC,eACNnE,OAAA;UAAK+D,SAAS,EAAC,wBAAwB;UAAAD,QAAA,gBACrC9D,OAAA;YAAQsE,IAAI,EAAC,QAAQ;YAACW,OAAO,EAAEA,CAAA,KAAM3D,cAAc,CAAC,KAAK,CAAE;YAACyC,SAAS,EAAC,0CAA0C;YAAAD,QAAA,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC/HnE,OAAA;YAAQsE,IAAI,EAAC,QAAQ;YAACW,OAAO,EAAE1C,cAAe;YAACwB,SAAS,EAAC,0CAA0C;YAAAD,QAAA,EAAC;UAAW;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA,eACD,CAAC;AAEP;AAACxD,EAAA,CA/JQR,WAAW;AAAAuF,EAAA,GAAXvF,WAAW;AAiKpB,eAAeA,WAAW;AAAC,IAAAuF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}