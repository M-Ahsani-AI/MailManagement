{"ast":null,"code":"// frontend/src/utils/renderKwitansiTemplate.js\nimport { numberToWords } from './numberToWords';\nexport function renderKwitansiTemplate(template, formData, dynamicFields, user, profil) {\n  var _ref, _dynamicFields$jumlah, _ref2, _dynamicFields$untuk_, _ref3, _dynamicFields$terbil;\n  if (!template || !user) return '';\n  let newContent = template;\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\n  const logoUrl = user !== null && user !== void 0 && user.logo ? `${baseUrl}/uploads/${user.logo}` : '';\n  const logoHTML = user !== null && user !== void 0 && user.logo ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"height: 60px; width: auto; max-width: 200px; object-fit: contain;\">` : '';\n  const headerHTML = `\n    <table style=\"width: 100%; border-bottom: 2px solid black;\">\n      <tbody>\n        <tr>\n          <td style=\"width: 20%;\">${logoHTML}</td>\n          <td style=\"width: 80%; padding-left: 15px;\">\n            <h1 style=\"margin: 0; font-size: 16px; font-weight: bold; text-transform: uppercase;\">${(user === null || user === void 0 ? void 0 : user.nama) || ''}</h1>\n            <p style=\"margin: 2px 0; font-size: 12px;\">${(user === null || user === void 0 ? void 0 : user.alamat) || ''}</p>\n            <p style=\"margin: 2px 0; font-size: 12px;\">Telp: ${(user === null || user === void 0 ? void 0 : user.no_telp) || ''} | Email: ${(user === null || user === void 0 ? void 0 : user.email) || ''}</p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  `;\n  const qrCodeHTML = formData.qrcode_base64 ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px; margin: 0 auto;\">` : '';\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\n\n  // ✅ Logika pengambilan data yang fleksibel\n  const jumlah = (_ref = (_dynamicFields$jumlah = dynamicFields.jumlah) !== null && _dynamicFields$jumlah !== void 0 ? _dynamicFields$jumlah : formData.jumlah) !== null && _ref !== void 0 ? _ref : 0;\n  const untuk_pembayaran = (_ref2 = (_dynamicFields$untuk_ = dynamicFields.untuk_pembayaran) !== null && _dynamicFields$untuk_ !== void 0 ? _dynamicFields$untuk_ : formData.untuk) !== null && _ref2 !== void 0 ? _ref2 : '[Tujuan Pembayaran]';\n  const terbilangValue = (_ref3 = (_dynamicFields$terbil = dynamicFields.terbilang) !== null && _dynamicFields$terbil !== void 0 ? _dynamicFields$terbil : formData.terbilang) !== null && _ref3 !== void 0 ? _ref3 : numberToWords(jumlah);\n  const tanggalFormatted = formData.tanggal ? new Date(formData.tanggal).toLocaleDateString('id-ID', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  }) : '[Tanggal]';\n  newContent = newContent.replace('{{kop_surat}}', headerHTML).replace('{{qrcode}}', qrCodeHTML).replace(/{{nomor_kwitansi}}/g, formData.no_kwitansi || '001').replace(/{{nama_penerima}}/g, (selectedProfil === null || selectedProfil === void 0 ? void 0 : selectedProfil.nama) || '[Nama Penerima]').replace(/{{terbilang}}/g, terbilangValue || 'Nol').replace(/{{untuk_pembayaran}}/g, untuk_pembayaran).replace(/{{jumlah_rupiah}}/g, Number(jumlah).toLocaleString('id-ID', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })).replace(/{{tanggal_kwitansi}}/g, tanggalFormatted).replace(/{{nama_perusahaan}}/g, (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Perusahaan]').replace(/{{nama_penandatangan}}/g, dynamicFields.nama_penandatangan || (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Penandatangan]');\n  return newContent;\n}","map":{"version":3,"names":["numberToWords","renderKwitansiTemplate","template","formData","dynamicFields","user","profil","_ref","_dynamicFields$jumlah","_ref2","_dynamicFields$untuk_","_ref3","_dynamicFields$terbil","newContent","baseUrl","process","env","REACT_APP_API_URL","replace","logoUrl","logo","logoHTML","headerHTML","nama","alamat","no_telp","email","qrCodeHTML","qrcode_base64","selectedProfil","find","p","id","Number","profil_id","jumlah","untuk_pembayaran","untuk","terbilangValue","terbilang","tanggalFormatted","tanggal","Date","toLocaleDateString","day","month","year","no_kwitansi","toLocaleString","minimumFractionDigits","maximumFractionDigits","nama_penandatangan"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/utils/renderKwitansiTemplate.js"],"sourcesContent":["// frontend/src/utils/renderKwitansiTemplate.js\r\nimport { numberToWords } from './numberToWords';\r\n\r\nexport function renderKwitansiTemplate(template, formData, dynamicFields, user, profil) {\r\n  if (!template || !user) return '';\r\n\r\n  let newContent = template;\r\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\r\n  const logoUrl = user?.logo ? `${baseUrl}/uploads/${user.logo}` : '';\r\n  \r\n  const logoHTML = user?.logo\r\n    ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"height: 60px; width: auto; max-width: 200px; object-fit: contain;\">`\r\n    : '';\r\n\r\n  const headerHTML = `\r\n    <table style=\"width: 100%; border-bottom: 2px solid black;\">\r\n      <tbody>\r\n        <tr>\r\n          <td style=\"width: 20%;\">${logoHTML}</td>\r\n          <td style=\"width: 80%; padding-left: 15px;\">\r\n            <h1 style=\"margin: 0; font-size: 16px; font-weight: bold; text-transform: uppercase;\">${user?.nama || ''}</h1>\r\n            <p style=\"margin: 2px 0; font-size: 12px;\">${user?.alamat || ''}</p>\r\n            <p style=\"margin: 2px 0; font-size: 12px;\">Telp: ${user?.no_telp || ''} | Email: ${user?.email || ''}</p>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  `;\r\n\r\n  const qrCodeHTML = formData.qrcode_base64\r\n    ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px; margin: 0 auto;\">`\r\n    : '';\r\n\r\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\r\n  \r\n  // ✅ Logika pengambilan data yang fleksibel\r\n  const jumlah = dynamicFields.jumlah ?? formData.jumlah ?? 0;\r\n  const untuk_pembayaran = dynamicFields.untuk_pembayaran ?? formData.untuk ?? '[Tujuan Pembayaran]';\r\n  const terbilangValue = dynamicFields.terbilang ?? formData.terbilang ?? numberToWords(jumlah);\r\n\r\n\r\n  const tanggalFormatted = formData.tanggal\r\n    ? new Date(formData.tanggal).toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })\r\n    : '[Tanggal]';\r\n\r\n  newContent = newContent\r\n    .replace('{{kop_surat}}', headerHTML)\r\n    .replace('{{qrcode}}', qrCodeHTML)\r\n    .replace(/{{nomor_kwitansi}}/g, formData.no_kwitansi || '001')\r\n    .replace(/{{nama_penerima}}/g, selectedProfil?.nama || '[Nama Penerima]')\r\n    .replace(/{{terbilang}}/g, terbilangValue || 'Nol')\r\n    .replace(/{{untuk_pembayaran}}/g, untuk_pembayaran)\r\n    .replace(/{{jumlah_rupiah}}/g, Number(jumlah).toLocaleString('id-ID', { minimumFractionDigits: 2, maximumFractionDigits: 2 }))\r\n    .replace(/{{tanggal_kwitansi}}/g, tanggalFormatted)\r\n    .replace(/{{nama_perusahaan}}/g, user?.nama || '[Nama Perusahaan]')\r\n    .replace(/{{nama_penandatangan}}/g, dynamicFields.nama_penandatangan || user?.nama || '[Nama Penandatangan]');\r\n    \r\n  return newContent;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}