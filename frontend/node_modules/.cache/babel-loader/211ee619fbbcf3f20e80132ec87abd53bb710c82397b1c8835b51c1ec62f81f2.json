{"ast":null,"code":"/**\r\n * Merender template BAST dengan mengganti placeholder dengan data dinamis.\r\n */\nexport function renderBastTemplate(template, formData, dynamicFields, items, user, profil) {\n  if (!template) return '';\n  let newContent = template;\n\n  // === 1. RENDER KOP SURAT (HEADER) ===\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\n  const logoUrl = user !== null && user !== void 0 && user.logo ? `${baseUrl}/uploads/${user.logo}` : '';\n  const logo = user !== null && user !== void 0 && user.logo ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"max-width:310px; max-height:155px; object-fit:contain; margin-left:auto;\">` : '';\n  const headerHTML = `\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 4px solid black; padding-bottom: 10px; margin-bottom: 20px;\">\n      <div>\n        <h1 style=\"margin: 0; font-size: 18px; font-weight: bold; text-transform: uppercase;\">${(user === null || user === void 0 ? void 0 : user.nama) || ''}</h1>\n        <p style=\"margin: 5px 0; font-size: 12px;\">${(user === null || user === void 0 ? void 0 : user.alamat) || ''}</p>\n        <p style=\"margin: 5px 0; font-size: 12px;\">Telp: ${(user === null || user === void 0 ? void 0 : user.no_telp) || ''} | Email: ${(user === null || user === void 0 ? void 0 : user.email) || ''}</p>\n      </div>\n      ${logo ? `<div style=\"text-align:right;\">${logo}</div>` : ''}\n    </div>\n  `;\n\n  // === 2. RENDER QR CODE ===\n  const qrCodeHTML = formData.qrcode_base64 ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">` : `<div style=\"width: 80px; height: 80px; border: 1px solid #ccc; font-size: 10px; display: flex; align-items: center; justify-content: center; color: #888;\">QR akan muncul setelah disimpan</div>`;\n\n  // === 3. GENERATE TABEL SERAH TERIMA ===\n  const tableRows = items.map((item, index) => `\n    <tr>\n      <td style=\"border: 1px solid #333; text-align: center; padding: 6px;\">${index + 1}</td>\n      <td style=\"border: 1px solid #333; padding: 6px;\">${item.produk || ''}</td>\n      <td style=\"border: 1px solid #333; padding: 6px;\">${item.deskripsi || ''}</td>\n      <td style=\"border: 1px solid #333; text-align: center; padding: 6px;\">${item.qty || 0}</td>\n      <td style=\"border: 1px solid #333; text-align: right; padding: 6px;\">${item.harga ? `Rp ${Number(item.harga).toLocaleString('id-ID')}` : '-'}</td>\n      <td style=\"border: 1px solid #333; padding: 6px;\">${item.kondisi || ''}</td>\n    </tr>\n  `).join('');\n  const tableHTML = `\n    <table style=\"width: 100%; border-collapse: collapse; font-size: 12px; margin: 20px 0;\">\n      <thead>\n        <tr style=\"background-color: #f2f2f2;\">\n          <th style=\"border: 1px solid #333; padding: 8px;\">No</th>\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: left;\">Produk/Jasa</th>\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: left;\">Deskripsi</th>\n          <th style=\"border: 1px solid #333; padding: 8px;\">Qty</th>\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: right;\">Total Harga</th>\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: left;\">Kondisi</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${items.length > 0 ? tableRows : `<tr><td colspan=\"6\" style=\"text-align: center; padding: 10px;\"><i>Belum ada item ditambahkan.</i></td></tr>`}\n      </tbody>\n    </table>\n  `;\n\n  // === 4. DATA UMUM & GANTI PLACEHOLDER ===\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\n  const tanggalFormatted = formData.tanggal ? new Date(formData.tanggal).toLocaleDateString('id-ID', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  }) : '[Tanggal BAST]';\n  newContent = newContent.replace('{{kop_surat}}', headerHTML).replace('{{qrcode}}', qrCodeHTML).replace('{{tabel_serah_terima}}', tableHTML).replace(/{{nomor_bast}}/g, formData.no_bast || '.../.../.../.../...').replace(/{{tanggal_bast}}/g, tanggalFormatted).replace(/{{nama_pihak_kedua}}/g, (selectedProfil === null || selectedProfil === void 0 ? void 0 : selectedProfil.nama) || '[Nama Pihak Kedua]').replace(/{{jabatan_pihak_kedua}}/g, (selectedProfil === null || selectedProfil === void 0 ? void 0 : selectedProfil.jabatan) || '[Jabatan Pihak Kedua]').replace(/{{nama_penandatangan}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.nama_penandatangan) || (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Pihak Pertama]').replace(/{{jabatan_penandatangan}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.jabatan_penandatangan) || '[Jabatan Pihak Pertama]');\n  return newContent;\n}","map":{"version":3,"names":["renderBastTemplate","template","formData","dynamicFields","items","user","profil","newContent","baseUrl","process","env","REACT_APP_API_URL","replace","logoUrl","logo","headerHTML","nama","alamat","no_telp","email","qrCodeHTML","qrcode_base64","tableRows","map","item","index","produk","deskripsi","qty","harga","Number","toLocaleString","kondisi","join","tableHTML","length","selectedProfil","find","p","id","profil_id","tanggalFormatted","tanggal","Date","toLocaleDateString","day","month","year","no_bast","jabatan","nama_penandatangan","jabatan_penandatangan"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/utils/renderBastTemplate.js"],"sourcesContent":["/**\r\n * Merender template BAST dengan mengganti placeholder dengan data dinamis.\r\n */\r\nexport function renderBastTemplate(template, formData, dynamicFields, items, user, profil) {\r\n  if (!template) return '';\r\n\r\n  let newContent = template;\r\n\r\n  // === 1. RENDER KOP SURAT (HEADER) ===\r\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', ''); \r\n  const logoUrl = user?.logo ? `${baseUrl}/uploads/${user.logo}` : '';\r\n  const logo = user?.logo\r\n    ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"max-width:310px; max-height:155px; object-fit:contain; margin-left:auto;\">`\r\n    : '';\r\n  \r\n  const headerHTML = `\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 4px solid black; padding-bottom: 10px; margin-bottom: 20px;\">\r\n      <div>\r\n        <h1 style=\"margin: 0; font-size: 18px; font-weight: bold; text-transform: uppercase;\">${user?.nama || ''}</h1>\r\n        <p style=\"margin: 5px 0; font-size: 12px;\">${user?.alamat || ''}</p>\r\n        <p style=\"margin: 5px 0; font-size: 12px;\">Telp: ${user?.no_telp || ''} | Email: ${user?.email || ''}</p>\r\n      </div>\r\n      ${logo ? `<div style=\"text-align:right;\">${logo}</div>` : ''}\r\n    </div>\r\n  `;\r\n\r\n  // === 2. RENDER QR CODE ===\r\n  const qrCodeHTML = formData.qrcode_base64\r\n    ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">`\r\n    : `<div style=\"width: 80px; height: 80px; border: 1px solid #ccc; font-size: 10px; display: flex; align-items: center; justify-content: center; color: #888;\">QR akan muncul setelah disimpan</div>`;\r\n  \r\n  // === 3. GENERATE TABEL SERAH TERIMA ===\r\n  const tableRows = items.map((item, index) => `\r\n    <tr>\r\n      <td style=\"border: 1px solid #333; text-align: center; padding: 6px;\">${index + 1}</td>\r\n      <td style=\"border: 1px solid #333; padding: 6px;\">${item.produk || ''}</td>\r\n      <td style=\"border: 1px solid #333; padding: 6px;\">${item.deskripsi || ''}</td>\r\n      <td style=\"border: 1px solid #333; text-align: center; padding: 6px;\">${item.qty || 0}</td>\r\n      <td style=\"border: 1px solid #333; text-align: right; padding: 6px;\">${item.harga ? `Rp ${Number(item.harga).toLocaleString('id-ID')}` : '-'}</td>\r\n      <td style=\"border: 1px solid #333; padding: 6px;\">${item.kondisi || ''}</td>\r\n    </tr>\r\n  `).join('');\r\n\r\n  const tableHTML = `\r\n    <table style=\"width: 100%; border-collapse: collapse; font-size: 12px; margin: 20px 0;\">\r\n      <thead>\r\n        <tr style=\"background-color: #f2f2f2;\">\r\n          <th style=\"border: 1px solid #333; padding: 8px;\">No</th>\r\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: left;\">Produk/Jasa</th>\r\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: left;\">Deskripsi</th>\r\n          <th style=\"border: 1px solid #333; padding: 8px;\">Qty</th>\r\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: right;\">Total Harga</th>\r\n          <th style=\"border: 1px solid #333; padding: 8px; text-align: left;\">Kondisi</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${items.length > 0 ? tableRows : `<tr><td colspan=\"6\" style=\"text-align: center; padding: 10px;\"><i>Belum ada item ditambahkan.</i></td></tr>`}\r\n      </tbody>\r\n    </table>\r\n  `;\r\n\r\n  // === 4. DATA UMUM & GANTI PLACEHOLDER ===\r\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\r\n  const tanggalFormatted = formData.tanggal\r\n    ? new Date(formData.tanggal).toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })\r\n    : '[Tanggal BAST]';\r\n\r\n  newContent = newContent\r\n    .replace('{{kop_surat}}', headerHTML)\r\n    .replace('{{qrcode}}', qrCodeHTML)\r\n    .replace('{{tabel_serah_terima}}', tableHTML)\r\n    .replace(/{{nomor_bast}}/g, formData.no_bast || '.../.../.../.../...')\r\n    .replace(/{{tanggal_bast}}/g, tanggalFormatted)\r\n    .replace(/{{nama_pihak_kedua}}/g, selectedProfil?.nama || '[Nama Pihak Kedua]')\r\n    .replace(/{{jabatan_pihak_kedua}}/g, selectedProfil?.jabatan || '[Jabatan Pihak Kedua]')\r\n    .replace(/{{nama_penandatangan}}/g, dynamicFields?.nama_penandatangan || user?.nama || '[Nama Pihak Pertama]')\r\n    .replace(/{{jabatan_penandatangan}}/g, dynamicFields?.jabatan_penandatangan || '[Jabatan Pihak Pertama]');\r\n\r\n  return newContent;\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}