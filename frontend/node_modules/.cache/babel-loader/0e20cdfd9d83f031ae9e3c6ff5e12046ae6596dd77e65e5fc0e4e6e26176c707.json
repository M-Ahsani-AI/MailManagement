{"ast":null,"code":"// frontend/src/utils/renderKwitansiTemplate.js\nimport { numberToWords } from './numberToWords';\nexport function renderKwitansiTemplate(template, formData, dynamicFields, user, profil) {\n  if (!template || !user) return '';\n  let newContent = template;\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\n  const logoUrl = user !== null && user !== void 0 && user.logo ? `${baseUrl}/uploads/${user.logo}` : '';\n  const logoHTML = user !== null && user !== void 0 && user.logo ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"height: 60px; width: auto; max-width: 200px; object-fit: contain;\">` : '';\n  const headerHTML = `\n    <table style=\"width: 100%; border-bottom: 2px solid black;\">\n      <tbody>\n        <tr>\n          <td style=\"width: 20%;\">${logoHTML}</td>\n          <td style=\"width: 80%; padding-left: 15px;\">\n            <h1 style=\"margin: 0; font-size: 16px; font-weight: bold; text-transform: uppercase;\">${(user === null || user === void 0 ? void 0 : user.nama) || ''}</h1>\n            <p style=\"margin: 2px 0; font-size: 12px;\">${(user === null || user === void 0 ? void 0 : user.alamat) || ''}</p>\n            <p style=\"margin: 2px 0; font-size: 12px;\">Telp: ${(user === null || user === void 0 ? void 0 : user.no_telp) || ''} | Email: ${(user === null || user === void 0 ? void 0 : user.email) || ''}</p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  `;\n  const qrCodeHTML = formData.qrcode_base64 ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px; margin: 0 auto;\">` : '';\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\n  const jumlah = Number(dynamicFields.jumlah) || 0;\n  const tanggalFormatted = formData.tanggal ? new Date(formData.tanggal).toLocaleDateString('id-ID', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  }) : '[Tanggal]';\n  newContent = newContent.replace('{{kop_surat}}', headerHTML).replace('{{qrcode}}', qrCodeHTML).replace(/{{nomor_kwitansi}}/g, formData.no_kwitansi || '001').replace(/{{nama_penerima}}/g, (selectedProfil === null || selectedProfil === void 0 ? void 0 : selectedProfil.nama) || '[Nama Penerima]').replace(/{{terbilang}}/g, jumlah > 0 ? numberToWords(jumlah) : 'Nol').replace(/{{untuk_pembayaran}}/g, dynamicFields.untuk_pembayaran || '[Tujuan Pembayaran]').replace(/{{jumlah_rupiah}}/g, jumlah.toLocaleString('id-ID', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })).replace(/{{tanggal_kwitansi}}/g, tanggalFormatted).replace(/{{nama_perusahaan}}/g, (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Perusahaan]').replace(/{{nama_penandatangan}}/g, dynamicFields.nama_penandatangan || (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Penandatangan]');\n  return newContent;\n}","map":{"version":3,"names":["numberToWords","renderKwitansiTemplate","template","formData","dynamicFields","user","profil","newContent","baseUrl","process","env","REACT_APP_API_URL","replace","logoUrl","logo","logoHTML","headerHTML","nama","alamat","no_telp","email","qrCodeHTML","qrcode_base64","selectedProfil","find","p","id","Number","profil_id","jumlah","tanggalFormatted","tanggal","Date","toLocaleDateString","day","month","year","no_kwitansi","untuk_pembayaran","toLocaleString","minimumFractionDigits","maximumFractionDigits","nama_penandatangan"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/utils/renderKwitansiTemplate.js"],"sourcesContent":["// frontend/src/utils/renderKwitansiTemplate.js\r\nimport { numberToWords } from './numberToWords';\r\n\r\nexport function renderKwitansiTemplate(template, formData, dynamicFields, user, profil) {\r\n  if (!template || !user) return '';\r\n\r\n  let newContent = template;\r\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\r\n  const logoUrl = user?.logo ? `${baseUrl}/uploads/${user.logo}` : '';\r\n  \r\n  const logoHTML = user?.logo\r\n    ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"height: 60px; width: auto; max-width: 200px; object-fit: contain;\">`\r\n    : '';\r\n\r\n  const headerHTML = `\r\n    <table style=\"width: 100%; border-bottom: 2px solid black;\">\r\n      <tbody>\r\n        <tr>\r\n          <td style=\"width: 20%;\">${logoHTML}</td>\r\n          <td style=\"width: 80%; padding-left: 15px;\">\r\n            <h1 style=\"margin: 0; font-size: 16px; font-weight: bold; text-transform: uppercase;\">${user?.nama || ''}</h1>\r\n            <p style=\"margin: 2px 0; font-size: 12px;\">${user?.alamat || ''}</p>\r\n            <p style=\"margin: 2px 0; font-size: 12px;\">Telp: ${user?.no_telp || ''} | Email: ${user?.email || ''}</p>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  `;\r\n\r\n  const qrCodeHTML = formData.qrcode_base64\r\n    ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px; margin: 0 auto;\">`\r\n    : '';\r\n\r\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\r\n  const jumlah = Number(dynamicFields.jumlah) || 0;\r\n  \r\n  const tanggalFormatted = formData.tanggal\r\n    ? new Date(formData.tanggal).toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })\r\n    : '[Tanggal]';\r\n\r\n  newContent = newContent\r\n    .replace('{{kop_surat}}', headerHTML)\r\n    .replace('{{qrcode}}', qrCodeHTML)\r\n    .replace(/{{nomor_kwitansi}}/g, formData.no_kwitansi || '001')\r\n    .replace(/{{nama_penerima}}/g, selectedProfil?.nama || '[Nama Penerima]')\r\n    .replace(/{{terbilang}}/g, jumlah > 0 ? numberToWords(jumlah) : 'Nol')\r\n    .replace(/{{untuk_pembayaran}}/g, dynamicFields.untuk_pembayaran || '[Tujuan Pembayaran]')\r\n    .replace(/{{jumlah_rupiah}}/g, jumlah.toLocaleString('id-ID', { minimumFractionDigits: 2, maximumFractionDigits: 2 }))\r\n    .replace(/{{tanggal_kwitansi}}/g, tanggalFormatted)\r\n    .replace(/{{nama_perusahaan}}/g, user?.nama || '[Nama Perusahaan]')\r\n    .replace(/{{nama_penandatangan}}/g, dynamicFields.nama_penandatangan || user?.nama || '[Nama Penandatangan]');\r\n    \r\n  return newContent;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}