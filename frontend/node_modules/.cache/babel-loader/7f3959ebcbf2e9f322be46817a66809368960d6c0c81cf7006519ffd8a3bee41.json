{"ast":null,"code":"// frontend/src/api.js\nimport axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptor: tambahkan token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Interceptor: tangani 401\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    // Token invalid → logout\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// Auth\nexport const login = data => api.post('/api/auth/login', data);\nexport const register = data => api.post('/api/auth/register', data);\n\n// Companies\nexport const getCompanies = () => api.get('/api/companies');\nexport const createCompany = data => api.post('/api/companies', data);\nexport const updateCompany = (id, data) => api.put(`/api/companies/${id}`, data);\nexport const deleteCompany = id => api.delete(`/api/companies/${id}`);\n\n// Profil\nexport const getProfil = () => api.get('/api/profil');\nexport const createProfil = data => api.post('/api/profil', data);\nexport const updateProfil = (id, data) => api.put(`/api/profil/${id}`, data);\nexport const deleteProfil = id => api.delete(`/api/profil/${id}`);\n\n// Bank\nexport const getBank = () => api.get('/api/bank');\nexport const createBank = data => api.post('/api/bank', data);\nexport const updateBank = (id, data) => api.put(`/api/bank/${id}`, data);\nexport const deleteBank = id => api.delete(`/api/bank/${id}`);\n\n// Kategori\nexport const getKategori = () => api.get('/api/kategori');\nexport const createKategori = data => api.post('/api/kategori', data);\nexport const updateKategori = (kode, data) => api.put(`/api/kategori/${kode}`, data);\nexport const deleteKategori = kode => api.delete(`/api/kategori/${kode}`);\n\n// Surat\nexport const getSurat = () => api.get('/api/surat');\nexport const getSuratById = id => api.get(`/api/surat/${id}`);\nexport const createSurat = data => api.post('/api/surat', data);\nexport const updateSurat = (id, data) => api.put(`/api/surat/${id}`, data);\nexport const deleteSurat = id => api.delete(`/api/surat/${id}`);\n\n// BAST\nexport const getBast = () => api.get('/api/bast');\nexport const getBastById = id => api.get(`/api/bast/${id}`);\nexport const createBast = data => api.post('/api/bast', data);\nexport const updateBast = (id, data) => api.put(`/api/bast/${id}`, data);\nexport const deleteBast = id => api.delete(`/api/bast/${id}`);\n\n// Invoice\nexport const getInvoice = () => api.get('/api/invoice');\nexport const getInvoiceById = id => api.get(`/api/invoice/${id}`);\nexport const createInvoice = data => api.post('/api/invoice', data);\nexport const updateInvoice = (id, data) => api.put(`/api/invoice/${id}`, data);\nexport const deleteInvoice = id => api.delete(`/api/invoice/${id}`);\n\n// Kwitansi\nexport const getKwitansi = () => api.get('/api/kwitansi');\nexport const getKwitansiById = id => api.get(`/api/kwitansi/${id}`);\nexport const createKwitansi = data => api.post('/api/kwitansi', data);\nexport const updateKwitansi = (id, data) => api.put(`/api/kwitansi/${id}`, data);\nexport const deleteKwitansi = id => api.delete(`/api/kwitansi/${id}`);\n\n// Arsip\nexport const getArsipFiles = (kategori, search = '') => api.get(`/api/arsip?kategori=${kategori}&search=${search}`);\nexport const uploadArsipFile = formData => api.post('/api/arsip', formData, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  }\n});\nexport const deleteArsipFile = id => api.delete(`/api/arsip/${id}`);\n\n// Pembayaran\nexport const getPembayaran = () => api.get('/api/pembayaran');\nexport const createPembayaran = data => api.post('/api/pembayaran', data);\nexport const updatePembayaran = (id, data) => api.put(`/api/pembayaran/${id}`, data);\nexport const deletePembayaran = id => api.delete(`/api/pembayaran/${id}`);","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","login","data","post","register","getCompanies","get","createCompany","updateCompany","id","put","deleteCompany","delete","getProfil","createProfil","updateProfil","deleteProfil","getBank","createBank","updateBank","deleteBank","getKategori","createKategori","updateKategori","kode","deleteKategori","getSurat","getSuratById","createSurat","updateSurat","deleteSurat","getBast","getBastById","createBast","updateBast","deleteBast","getInvoice","getInvoiceById","createInvoice","updateInvoice","deleteInvoice","getKwitansi","getKwitansiById","createKwitansi","updateKwitansi","deleteKwitansi","getArsipFiles","kategori","search","uploadArsipFile","formData","deleteArsipFile","getPembayaran","createPembayaran","updatePembayaran","deletePembayaran"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/api.js"],"sourcesContent":["// frontend/src/api.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: { 'Content-Type': 'application/json' },\r\n});\r\n\r\n// Interceptor: tambahkan token\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Interceptor: tangani 401\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Token invalid → logout\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Auth\r\nexport const login = (data) => api.post('/api/auth/login', data);\r\nexport const register = (data) => api.post('/api/auth/register', data);\r\n\r\n// Companies\r\nexport const getCompanies = () => api.get('/api/companies');\r\nexport const createCompany = (data) => api.post('/api/companies', data);\r\nexport const updateCompany = (id, data) => api.put(`/api/companies/${id}`, data);\r\nexport const deleteCompany = (id) => api.delete(`/api/companies/${id}`);\r\n\r\n// Profil\r\nexport const getProfil = () => api.get('/api/profil');\r\nexport const createProfil = (data) => api.post('/api/profil', data);\r\nexport const updateProfil = (id, data) => api.put(`/api/profil/${id}`, data);\r\nexport const deleteProfil = (id) => api.delete(`/api/profil/${id}`);\r\n\r\n// Bank\r\nexport const getBank = () => api.get('/api/bank');\r\nexport const createBank = (data) => api.post('/api/bank', data);\r\nexport const updateBank = (id, data) => api.put(`/api/bank/${id}`, data);\r\nexport const deleteBank = (id) => api.delete(`/api/bank/${id}`); \r\n\r\n// Kategori\r\nexport const getKategori = () => api.get('/api/kategori');\r\nexport const createKategori = (data) => api.post('/api/kategori', data);\r\nexport const updateKategori = (kode, data) => api.put(`/api/kategori/${kode}`, data);\r\nexport const deleteKategori = (kode) => api.delete(`/api/kategori/${kode}`);\r\n\r\n// Surat\r\nexport const getSurat = () => api.get('/api/surat');\r\nexport const getSuratById = (id) => api.get(`/api/surat/${id}`);\r\nexport const createSurat = (data) => api.post('/api/surat', data);\r\nexport const updateSurat = (id, data) => api.put(`/api/surat/${id}`, data);\r\nexport const deleteSurat = (id) => api.delete(`/api/surat/${id}`);\r\n\r\n// BAST\r\nexport const getBast = () => api.get('/api/bast');\r\nexport const getBastById = (id) => api.get(`/api/bast/${id}`);\r\nexport const createBast = (data) => api.post('/api/bast', data);\r\nexport const updateBast = (id, data) => api.put(`/api/bast/${id}`, data);\r\nexport const deleteBast = (id) => api.delete(`/api/bast/${id}`);\r\n\r\n// Invoice\r\nexport const getInvoice = () => api.get('/api/invoice');\r\nexport const getInvoiceById = (id) => api.get(`/api/invoice/${id}`);\r\nexport const createInvoice = (data) => api.post('/api/invoice', data);\r\nexport const updateInvoice = (id, data) => api.put(`/api/invoice/${id}`, data);\r\nexport const deleteInvoice = (id) => api.delete(`/api/invoice/${id}`);\r\n\r\n// Kwitansi\r\nexport const getKwitansi = () => api.get('/api/kwitansi');\r\nexport const getKwitansiById = (id) => api.get(`/api/kwitansi/${id}`);\r\nexport const createKwitansi = (data) => api.post('/api/kwitansi', data);\r\nexport const updateKwitansi = (id, data) => api.put(`/api/kwitansi/${id}`, data);\r\nexport const deleteKwitansi = (id) => api.delete(`/api/kwitansi/${id}`);\r\n\r\n// Arsip\r\nexport const getArsipFiles = (kategori, search = '') => api.get(`/api/arsip?kategori=${kategori}&search=${search}`);\r\nexport const uploadArsipFile = (formData) => api.post('/api/arsip', formData, { headers: { 'Content-Type': 'multipart/form-data' } });\r\nexport const deleteArsipFile = (id) => api.delete(`/api/arsip/${id}`);\r\n\r\n// Pembayaran\r\nexport const getPembayaran = () => api.get('/api/pembayaran');\r\nexport const createPembayaran = (data) => api.post('/api/pembayaran', data);\r\nexport const updatePembayaran = (id, data) => api.put(`/api/pembayaran/${id}`, data);\r\nexport const deletePembayaran = (id) => api.delete(`/api/pembayaran/${id}`);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}