{"ast":null,"code":"import axios from 'axios';\n\n// ✅ KOREKSI: Hapus referensi ke localhost dan process.env.\n// Cukup gunakan path dasar API Anda. Proxy akan menanganinya.\nconst API_URL = '/api';\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptor: tambahkan token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Interceptor: tangani 401\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    // Token invalid → logout\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport const login = data => api.post('/auth/login', data);\nexport const register = data => api.post('/auth/register', data);\nexport const getCompanies = () => api.get('/companies');\nexport const createCompany = data => api.post('/companies', data);\nexport const updateCompany = (id, data) => api.put(`/companies/${id}`, data);\nexport const deleteCompany = id => api.delete(`/companies/${id}`);\nexport const getProfil = () => api.get('/profil');\nexport const createProfil = data => api.post('/profil', data);\nexport const updateProfil = (id, data) => api.put(`/profil/${id}`, data);\nexport const deleteProfil = id => api.delete(`/profil/${id}`);\nexport const getBank = () => api.get('/bank');\nexport const createBank = data => api.post('/bank', data);\nexport const updateBank = (id, data) => api.put(`/bank/${id}`, data);\nexport const deleteBank = id => api.delete(`/bank/${id}`);\nexport const getKategori = () => api.get('/kategori');\nexport const createKategori = data => api.post('/kategori', data);\nexport const updateKategori = (kode, data) => api.put(`/kategori/${kode}`, data);\nexport const deleteKategori = kode => api.delete(`/kategori/${kode}`);\nexport const getSurat = () => api.get('/surat');\nexport const getSuratById = id => api.get(`/surat/${id}`);\nexport const createSurat = data => api.post('/surat', data);\nexport const updateSurat = (id, data) => api.put(`/surat/${id}`, data);\nexport const deleteSurat = id => api.delete(`/surat/${id}`);\nexport const getBast = () => api.get('/bast');\nexport const getBastById = id => api.get(`/bast/${id}`);\nexport const createBast = data => api.post('/bast', data);\nexport const updateBast = (id, data) => api.put(`/bast/${id}`, data);\nexport const deleteBast = id => api.delete(`/bast/${id}`);\nexport const getInvoice = () => api.get('/invoice');\nexport const getInvoiceById = id => api.get(`/invoice/${id}`);\nexport const createInvoice = data => api.post('/invoice', data);\nexport const updateInvoice = (id, data) => api.put(`/invoice/${id}`, data);\nexport const deleteInvoice = id => api.delete(`/invoice/${id}`);\nexport const getKwitansi = () => api.get('/kwitansi');\nexport const getKwitansiById = id => api.get(`/kwitansi/${id}`);\nexport const createKwitansi = data => api.post('/kwitansi', data);\nexport const updateKwitansi = (id, data) => api.put(`/kwitansi/${id}`, data);\nexport const deleteKwitansi = id => api.delete(`/kwitansi/${id}`);\nexport const getPembayaran = () => api.get('/pembayaran');\nexport const createPembayaran = data => api.post('/pembayaran', data);\nexport const updatePembayaran = (id, data) => api.put(`/pembayaran/${id}`, data);\nexport const deletePembayaran = id => api.delete(`/pembayaran/${id}`);","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","login","data","post","register","getCompanies","get","createCompany","updateCompany","id","put","deleteCompany","delete","getProfil","createProfil","updateProfil","deleteProfil","getBank","createBank","updateBank","deleteBank","getKategori","createKategori","updateKategori","kode","deleteKategori","getSurat","getSuratById","createSurat","updateSurat","deleteSurat","getBast","getBastById","createBast","updateBast","deleteBast","getInvoice","getInvoiceById","createInvoice","updateInvoice","deleteInvoice","getKwitansi","getKwitansiById","createKwitansi","updateKwitansi","deleteKwitansi","getPembayaran","createPembayaran","updatePembayaran","deletePembayaran"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// ✅ KOREKSI: Hapus referensi ke localhost dan process.env.\r\n// Cukup gunakan path dasar API Anda. Proxy akan menanganinya.\r\nconst API_URL = '/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: { 'Content-Type': 'application/json' },\r\n});\r\n\r\n// Interceptor: tambahkan token\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Interceptor: tangani 401\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Token invalid → logout\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const login = (data) => api.post('/auth/login', data);\r\nexport const register = (data) => api.post('/auth/register', data);\r\n\r\nexport const getCompanies = () => api.get('/companies');\r\nexport const createCompany = (data) => api.post('/companies', data);\r\nexport const updateCompany = (id, data) => api.put(`/companies/${id}`, data);\r\nexport const deleteCompany = (id) => api.delete(`/companies/${id}`);\r\n\r\nexport const getProfil = () => api.get('/profil');\r\nexport const createProfil = (data) => api.post('/profil', data);\r\nexport const updateProfil = (id, data) => api.put(`/profil/${id}`, data);\r\nexport const deleteProfil = (id) => api.delete(`/profil/${id}`);\r\n\r\nexport const getBank = () => api.get('/bank');\r\nexport const createBank = (data) => api.post('/bank', data);\r\nexport const updateBank = (id, data) => api.put(`/bank/${id}`, data);\r\nexport const deleteBank = (id) => api.delete(`/bank/${id}`); \r\n\r\nexport const getKategori = () => api.get('/kategori');\r\nexport const createKategori = (data) => api.post('/kategori', data);\r\nexport const updateKategori = (kode, data) => api.put(`/kategori/${kode}`, data);\r\nexport const deleteKategori = (kode) => api.delete(`/kategori/${kode}`);\r\n\r\nexport const getSurat = () => api.get('/surat');\r\nexport const getSuratById = (id) => api.get(`/surat/${id}`);\r\nexport const createSurat = (data) => api.post('/surat', data);\r\nexport const updateSurat = (id, data) => api.put(`/surat/${id}`, data);\r\nexport const deleteSurat = (id) => api.delete(`/surat/${id}`);\r\n\r\nexport const getBast = () => api.get('/bast');\r\nexport const getBastById = (id) => api.get(`/bast/${id}`);\r\nexport const createBast = (data) => api.post('/bast', data);\r\nexport const updateBast = (id, data) => api.put(`/bast/${id}`, data);\r\nexport const deleteBast = (id) => api.delete(`/bast/${id}`);\r\n\r\nexport const getInvoice = () => api.get('/invoice');\r\nexport const getInvoiceById = (id) => api.get(`/invoice/${id}`);\r\nexport const createInvoice = (data) => api.post('/invoice', data);\r\nexport const updateInvoice = (id, data) => api.put(`/invoice/${id}`, data);\r\nexport const deleteInvoice = (id) => api.delete(`/invoice/${id}`);\r\n\r\nexport const getKwitansi = () => api.get('/kwitansi');\r\nexport const getKwitansiById = (id) => api.get(`/kwitansi/${id}`);\r\nexport const createKwitansi = (data) => api.post('/kwitansi', data);\r\nexport const updateKwitansi = (id, data) => api.put(`/kwitansi/${id}`, data);\r\nexport const deleteKwitansi = (id) => api.delete(`/kwitansi/${id}`);\r\n\r\nexport const getPembayaran = () => api.get('/pembayaran');\r\nexport const createPembayaran = (data) => api.post('/pembayaran', data);\r\nexport const updatePembayaran = (id, data) => api.put(`/pembayaran/${id}`, data);\r\nexport const deletePembayaran = (id) => api.delete(`/pembayaran/${id}`);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}