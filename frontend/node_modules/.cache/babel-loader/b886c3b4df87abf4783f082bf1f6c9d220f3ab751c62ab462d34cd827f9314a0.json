{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\Documents\\\\CODE\\\\SURAT CV MALIKI\\\\frontend\\\\src\\\\components\\\\BastForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { renderBastTemplate } from '../utils/renderBastTemplate';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BastForm({\n  initialData,\n  onSubmit,\n  onCancel,\n  isEditing,\n  kategori = [],\n  user\n}) {\n  _s();\n  var _initialData$meta_dat, _initialData$meta_dat2;\n  const [formData, setFormData] = useState(initialData);\n  const [dynamicFields, setDynamicFields] = useState(((_initialData$meta_dat = initialData.meta_data) === null || _initialData$meta_dat === void 0 ? void 0 : _initialData$meta_dat.dynamicFields) || {});\n  const [items, setItems] = useState(((_initialData$meta_dat2 = initialData.meta_data) === null || _initialData$meta_dat2 === void 0 ? void 0 : _initialData$meta_dat2.items) || []);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [currentItem, setCurrentItem] = useState({\n    produk: '',\n    deskripsi: '',\n    qty: 1,\n    harga_per_unit: '',\n    kondisi: 'Baik'\n  });\n  const [originalTemplate, setOriginalTemplate] = useState('');\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n  const handleDynamicChange = e => setDynamicFields(prev => ({\n    ...prev,\n    [e.target.name]: e.target.value\n  }));\n  const handleItemFormChange = e => setCurrentItem(prev => ({\n    ...prev,\n    [e.target.name]: e.target.value\n  }));\n  const handleSaveItem = () => {\n    if (!currentItem.produk || !currentItem.deskripsi) {\n      alert('Nama produk dan deskripsi wajib diisi.');\n      return;\n    }\n    setItems([...items, currentItem]);\n    setCurrentItem({\n      produk: '',\n      deskripsi: '',\n      qty: 1,\n      harga_per_unit: '',\n      kondisi: 'Baik'\n    });\n    setIsModalOpen(false);\n  };\n  const handleRemoveItem = indexToRemove => setItems(items.filter((_, index) => index !== indexToRemove));\n  useEffect(() => {\n    const bastKategori = kategori.find(k => k.kode === 'BAST');\n    if (bastKategori) {\n      setOriginalTemplate(bastKategori.template || '');\n      if (!isEditing && !formData.perihal) {\n        setFormData(prev => ({\n          ...prev,\n          perihal: 'Permohonan Pembayaran'\n        }));\n      }\n    }\n  }, [kategori, isEditing, formData.perihal]);\n  useEffect(() => {\n    if (!originalTemplate) return;\n    const newContent = renderBastTemplate(originalTemplate, formData, dynamicFields, items, user);\n    if (newContent !== formData.isi) {\n      setFormData(prev => ({\n        ...prev,\n        isi: newContent\n      }));\n    }\n  }, [originalTemplate, formData, dynamicFields, items, user]);\n  useEffect(() => {\n    var _initialData$meta_dat3, _initialData$meta_dat4;\n    setFormData(initialData);\n    setDynamicFields(((_initialData$meta_dat3 = initialData.meta_data) === null || _initialData$meta_dat3 === void 0 ? void 0 : _initialData$meta_dat3.dynamicFields) || {});\n    setItems(((_initialData$meta_dat4 = initialData.meta_data) === null || _initialData$meta_dat4 === void 0 ? void 0 : _initialData$meta_dat4.items) || []);\n  }, [initialData]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.tanggal || !formData.perihal || !dynamicFields.nama_pihak_kedua) {\n      alert('Tanggal, Perihal, dan Nama Pihak Kedua wajib diisi.');\n      return;\n    }\n    const dataToSend = {\n      ...formData,\n      meta_data: {\n        dynamicFields,\n        items\n      }\n    };\n    onSubmit(dataToSend);\n  };\n  const modules = useMemo(() => ({\n    toolbar: [['bold', 'italic'], [{\n      'list': 'ordered'\n    }, {\n      'list': 'bullet'\n    }]]\n  }), []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg w-full max-w-4xl flex flex-col max-h-[95vh]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold p-6 pb-4 flex-shrink-0\",\n          children: isEditing ? 'Edit BAST' : 'Tambah BAST'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow overflow-y-auto px-6 pb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"tanggal\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Tanggal BAST\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"tanggal\",\n                  name: \"tanggal\",\n                  type: \"date\",\n                  value: formData.tanggal || '',\n                  onChange: handleChange,\n                  required: true,\n                  className: \"mt-1 w-full border p-2 rounded-md shadow-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"perihal\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Perihal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"perihal\",\n                  name: \"perihal\",\n                  type: \"text\",\n                  value: formData.perihal || '',\n                  onChange: handleChange,\n                  required: true,\n                  className: \"mt-1 w-full border p-2 rounded-md shadow-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-l-4 border-gray-300 bg-gray-50 my-4 rounded-r-lg space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold text-gray-800 mb-2\",\n                children: \"Pihak Terlibat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 32\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"nama_pihak_pertama\",\n                  value: dynamicFields.nama_pihak_pertama || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Nama Pihak Pertama (Anda)\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"jabatan_pihak_pertama\",\n                  value: dynamicFields.jabatan_pihak_pertama || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Jabatan Pihak Pertama (Anda)\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"nama_pihak_kedua\",\n                  value: dynamicFields.nama_pihak_kedua || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Nama Pihak Kedua\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"jabatan_pihak_kedua\",\n                  value: dynamicFields.jabatan_pihak_kedua || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Jabatan Pihak Kedua\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"nip_pihak_kedua\",\n                  value: dynamicFields.nip_pihak_kedua || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"NIP Pihak Kedua (Opsional)\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 35\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"alamat_pihak_kedua\",\n                  value: dynamicFields.alamat_pihak_kedua || '',\n                  onChange: handleDynamicChange,\n                  placeholder: \"Alamat Pihak Kedua\",\n                  className: \"border p-2 rounded-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-l-4 border-blue-300 bg-blue-50 my-4 rounded-r-lg space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold text-gray-800 mb-2\",\n                children: \"Detail Produk/Jasa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setIsModalOpen(true),\n                  className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n                  children: \"+ Tambah Produk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 38\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 mt-2\",\n                children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 p-2 bg-blue-100 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [index + 1, \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex-grow\",\n                    children: [item.produk, \" (Qty: \", item.qty, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => handleRemoveItem(index),\n                    className: \"text-red-500 font-bold hover:text-red-700\",\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 45\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Preview Dokumen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n                theme: \"snow\",\n                value: formData.isi || '',\n                readOnly: true,\n                modules: {\n                  toolbar: false\n                },\n                className: \"mt-1 bg-gray-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-end pt-4 gap-2 border-t mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: onCancel,\n                className: \"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\",\n                children: \"Batal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\",\n                children: isEditing ? 'Simpan Perubahan' : 'Buat Dokumen'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold\",\n          children: \"Tambah Detail Produk/Jasa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"produk\",\n          value: currentItem.produk,\n          onChange: handleItemFormChange,\n          placeholder: \"Produk (e.g., Service dan Maintenance)\",\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"deskripsi\",\n          value: currentItem.deskripsi,\n          onChange: handleItemFormChange,\n          placeholder: \"Deskripsi (e.g., Printer Epson L4150)\",\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"qty\",\n            type: \"number\",\n            min: \"1\",\n            value: currentItem.qty,\n            onChange: handleItemFormChange,\n            placeholder: \"Qty\",\n            className: \"w-full border p-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"harga_per_unit\",\n            type: \"number\",\n            min: \"0\",\n            value: currentItem.harga_per_unit,\n            onChange: handleItemFormChange,\n            placeholder: \"Harga per Unit\",\n            className: \"w-full border p-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"kondisi\",\n          value: currentItem.kondisi,\n          onChange: handleItemFormChange,\n          placeholder: \"Kondisi Barang\",\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setIsModalOpen(false),\n            className: \"px-4 py-2 bg-gray-600 text-white rounded\",\n            children: \"Batal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleSaveItem,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded\",\n            children: \"Simpan Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n_s(BastForm, \"zxWKTSu644sDlunlUO/aosT4Xh8=\");\n_c = BastForm;\nexport default BastForm;\nvar _c;\n$RefreshReg$(_c, \"BastForm\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","ReactQuill","renderBastTemplate","jsxDEV","_jsxDEV","Fragment","_Fragment","BastForm","initialData","onSubmit","onCancel","isEditing","kategori","user","_s","_initialData$meta_dat","_initialData$meta_dat2","formData","setFormData","dynamicFields","setDynamicFields","meta_data","items","setItems","isModalOpen","setIsModalOpen","currentItem","setCurrentItem","produk","deskripsi","qty","harga_per_unit","kondisi","originalTemplate","setOriginalTemplate","handleChange","e","target","name","value","handleDynamicChange","prev","handleItemFormChange","handleSaveItem","alert","handleRemoveItem","indexToRemove","filter","_","index","bastKategori","find","k","kode","template","perihal","newContent","isi","_initialData$meta_dat3","_initialData$meta_dat4","handleSubmit","preventDefault","tanggal","nama_pihak_kedua","dataToSend","modules","toolbar","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","type","onChange","required","nama_pihak_pertama","placeholder","jabatan_pihak_pertama","jabatan_pihak_kedua","nip_pihak_kedua","alamat_pihak_kedua","onClick","map","item","theme","readOnly","min","_c","$RefreshReg$"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/components/BastForm.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport { renderBastTemplate } from '../utils/renderBastTemplate';\r\n\r\nfunction BastForm({ initialData, onSubmit, onCancel, isEditing, kategori = [], user }) {\r\n    const [formData, setFormData] = useState(initialData);\r\n    const [dynamicFields, setDynamicFields] = useState(initialData.meta_data?.dynamicFields || {});\r\n    const [items, setItems] = useState(initialData.meta_data?.items || []);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [currentItem, setCurrentItem] = useState({ produk: '', deskripsi: '', qty: 1, harga_per_unit: '', kondisi: 'Baik' });\r\n    const [originalTemplate, setOriginalTemplate] = useState('');\r\n\r\n    const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    const handleDynamicChange = (e) => setDynamicFields(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n    const handleItemFormChange = (e) => setCurrentItem(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n\r\n    const handleSaveItem = () => {\r\n        if (!currentItem.produk || !currentItem.deskripsi) {\r\n            alert('Nama produk dan deskripsi wajib diisi.');\r\n            return;\r\n        }\r\n        setItems([...items, currentItem]);\r\n        setCurrentItem({ produk: '', deskripsi: '', qty: 1, harga_per_unit: '', kondisi: 'Baik' });\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleRemoveItem = (indexToRemove) => setItems(items.filter((_, index) => index !== indexToRemove));\r\n\r\n    useEffect(() => {\r\n        const bastKategori = kategori.find(k => k.kode === 'BAST');\r\n        if (bastKategori) {\r\n            setOriginalTemplate(bastKategori.template || '');\r\n            if (!isEditing && !formData.perihal) {\r\n                setFormData(prev => ({ ...prev, perihal: 'Permohonan Pembayaran' }));\r\n            }\r\n        }\r\n    }, [kategori, isEditing, formData.perihal]);\r\n\r\n    useEffect(() => {\r\n        if (!originalTemplate) return;\r\n        const newContent = renderBastTemplate(originalTemplate, formData, dynamicFields, items, user);\r\n        if (newContent !== formData.isi) {\r\n            setFormData(prev => ({ ...prev, isi: newContent }));\r\n        }\r\n    }, [originalTemplate, formData, dynamicFields, items, user]);\r\n\r\n    useEffect(() => {\r\n        setFormData(initialData);\r\n        setDynamicFields(initialData.meta_data?.dynamicFields || {});\r\n        setItems(initialData.meta_data?.items || []);\r\n    }, [initialData]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!formData.tanggal || !formData.perihal || !dynamicFields.nama_pihak_kedua) {\r\n            alert('Tanggal, Perihal, dan Nama Pihak Kedua wajib diisi.');\r\n            return;\r\n        }\r\n        const dataToSend = { ...formData, meta_data: { dynamicFields, items } };\r\n        onSubmit(dataToSend);\r\n    };\r\n\r\n    const modules = useMemo(() => ({ toolbar: [['bold', 'italic'], [{'list': 'ordered'}, {'list': 'bullet'}]] }), []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n                <div className=\"bg-white rounded-lg shadow-lg w-full max-w-4xl flex flex-col max-h-[95vh]\">\r\n                    <h3 className=\"text-xl font-bold p-6 pb-4 flex-shrink-0\">{isEditing ? 'Edit BAST' : 'Tambah BAST'}</h3>\r\n                    <div className=\"flex-grow overflow-y-auto px-6 pb-6\">\r\n                        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label htmlFor=\"tanggal\" className=\"block text-sm font-medium text-gray-700\">Tanggal BAST</label>\r\n                                    <input id=\"tanggal\" name=\"tanggal\" type=\"date\" value={formData.tanggal || ''} onChange={handleChange} required className=\"mt-1 w-full border p-2 rounded-md shadow-sm\"/>\r\n                                </div>\r\n                                {/* âœ¨ BARU: Input untuk Perihal */}\r\n                                <div>\r\n                                    <label htmlFor=\"perihal\" className=\"block text-sm font-medium text-gray-700\">Perihal</label>\r\n                                    <input id=\"perihal\" name=\"perihal\" type=\"text\" value={formData.perihal || ''} onChange={handleChange} required className=\"mt-1 w-full border p-2 rounded-md shadow-sm\"/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-4 border-l-4 border-gray-300 bg-gray-50 my-4 rounded-r-lg space-y-4\">\r\n                               <h4 className=\"font-bold text-gray-800 mb-2\">Pihak Terlibat</h4>\r\n                               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                  <input name=\"nama_pihak_pertama\" value={dynamicFields.nama_pihak_pertama || ''} onChange={handleDynamicChange} placeholder=\"Nama Pihak Pertama (Anda)\" className=\"border p-2 rounded-md\" />\r\n                                  <input name=\"jabatan_pihak_pertama\" value={dynamicFields.jabatan_pihak_pertama || ''} onChange={handleDynamicChange} placeholder=\"Jabatan Pihak Pertama (Anda)\" className=\"border p-2 rounded-md\" />\r\n                                  <input name=\"nama_pihak_kedua\" value={dynamicFields.nama_pihak_kedua || ''} onChange={handleDynamicChange} placeholder=\"Nama Pihak Kedua\" className=\"border p-2 rounded-md\" />\r\n                                  <input name=\"jabatan_pihak_kedua\" value={dynamicFields.jabatan_pihak_kedua || ''} onChange={handleDynamicChange} placeholder=\"Jabatan Pihak Kedua\" className=\"border p-2 rounded-md\" />\r\n                                  <input name=\"nip_pihak_kedua\" value={dynamicFields.nip_pihak_kedua || ''} onChange={handleDynamicChange} placeholder=\"NIP Pihak Kedua (Opsional)\" className=\"border p-2 rounded-md\" />\r\n                                  <input name=\"alamat_pihak_kedua\" value={dynamicFields.alamat_pihak_kedua || ''} onChange={handleDynamicChange} placeholder=\"Alamat Pihak Kedua\" className=\"border p-2 rounded-md\" />\r\n                               </div>\r\n                            </div>\r\n                            <div className=\"p-4 border-l-4 border-blue-300 bg-blue-50 my-4 rounded-r-lg space-y-4\">\r\n                                <h4 className=\"font-bold text-gray-800 mb-2\">Detail Produk/Jasa</h4>\r\n                                <div><button type=\"button\" onClick={() => setIsModalOpen(true)} className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\">+ Tambah Produk</button></div>\r\n                                <div className=\"space-y-2 mt-2\">\r\n                                    {items.map((item, index) => (\r\n                                        <div key={index} className=\"flex items-center gap-2 p-2 bg-blue-100 rounded\">\r\n                                            <span className=\"font-semibold\">{index + 1}.</span>\r\n                                            <span className=\"flex-grow\">{item.produk} (Qty: {item.qty})</span>\r\n                                            <button type=\"button\" onClick={() => handleRemoveItem(index)} className=\"text-red-500 font-bold hover:text-red-700\">X</button>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700\">Preview Dokumen</label>\r\n                                <ReactQuill theme=\"snow\" value={formData.isi || ''} readOnly={true} modules={{ toolbar: false }} className=\"mt-1 bg-gray-100\"/>\r\n                            </div>\r\n                            <div className=\"flex justify-end pt-4 gap-2 border-t mt-4\">\r\n                                <button type=\"button\" onClick={onCancel} className=\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\">Batal</button>\r\n                                <button type=\"submit\" className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\">{isEditing ? 'Simpan Perubahan' : 'Buat Dokumen'}</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* Modal */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60]\">\r\n                    <div className=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg space-y-4\">\r\n                        <h3 className=\"text-xl font-bold\">Tambah Detail Produk/Jasa</h3>\r\n                        <input name=\"produk\" value={currentItem.produk} onChange={handleItemFormChange} placeholder=\"Produk (e.g., Service dan Maintenance)\" className=\"w-full border p-2 rounded\" />\r\n                        <input name=\"deskripsi\" value={currentItem.deskripsi} onChange={handleItemFormChange} placeholder=\"Deskripsi (e.g., Printer Epson L4150)\" className=\"w-full border p-2 rounded\" />\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <input name=\"qty\" type=\"number\" min=\"1\" value={currentItem.qty} onChange={handleItemFormChange} placeholder=\"Qty\" className=\"w-full border p-2 rounded\" />\r\n                            <input name=\"harga_per_unit\" type=\"number\" min=\"0\" value={currentItem.harga_per_unit} onChange={handleItemFormChange} placeholder=\"Harga per Unit\" className=\"w-full border p-2 rounded\" />\r\n                        </div>\r\n                        <input name=\"kondisi\" value={currentItem.kondisi} onChange={handleItemFormChange} placeholder=\"Kondisi Barang\" className=\"w-full border p-2 rounded\" />\r\n                        <div className=\"flex justify-end gap-2\">\r\n                            <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"px-4 py-2 bg-gray-600 text-white rounded\">Batal</button>\r\n                            <button type=\"button\" onClick={handleSaveItem} className=\"px-4 py-2 bg-blue-600 text-white rounded\">Simpan Item</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n}\r\nexport default BastForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}