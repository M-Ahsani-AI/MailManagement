{"ast":null,"code":"// frontend/src/utils/renderKwitansiTemplate.js\nimport { numberToWords } from './numberToWords';\nexport function renderKwitansiTemplate(template, formData, dynamicFields, user, profil) {\n  var _ref, _dynamicFields$jumlah, _ref2, _dynamicFields$untuk_, _ref3, _dynamicFields$terbil;\n  if (!template || !user) return '';\n  let newContent = template;\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\n  const logoUrl = user !== null && user !== void 0 && user.logo ? `${baseUrl}/uploads/${user.logo}` : '';\n  const logo = user !== null && user !== void 0 && user.logo ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"height: 60px; width: auto; max-width: 200px; object-fit: contain;\">` : '';\n\n  // ✅ KOREKSI: Membuat kop surat inti tanpa tabel pembungkus\n  const kopSuratIntiHTML = `\n    <div style=\"display: flex; align-items: flex-start;\">\n        ${logo ? `<div style=\"margin-right: 15px;\">${logo}</div>` : ''}\n        <div>\n            <h1 style=\"margin: 0; font-size: 16px; font-weight: bold; text-transform: uppercase;\">${(user === null || user === void 0 ? void 0 : user.nama) || ''}</h1>\n            <p style=\"margin: 2px 0; font-size: 12px;\">${(user === null || user === void 0 ? void 0 : user.alamat) || ''}</p>\n            <p style=\"margin: 2px 0; font-size: 12px;\">Telp: ${(user === null || user === void 0 ? void 0 : user.no_telp) || ''} | Email: ${(user === null || user === void 0 ? void 0 : user.email) || ''}</p>\n        </div>\n    </div>\n  `;\n  const qrCodeHTML = formData.qrcode_base64 ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">` : '';\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\n  const jumlah = (_ref = (_dynamicFields$jumlah = dynamicFields.jumlah) !== null && _dynamicFields$jumlah !== void 0 ? _dynamicFields$jumlah : formData.jumlah) !== null && _ref !== void 0 ? _ref : 0;\n  const untuk_pembayaran = (_ref2 = (_dynamicFields$untuk_ = dynamicFields.untuk_pembayaran) !== null && _dynamicFields$untuk_ !== void 0 ? _dynamicFields$untuk_ : formData.untuk) !== null && _ref2 !== void 0 ? _ref2 : '[Tujuan Pembayaran]';\n  const terbilangValue = (_ref3 = (_dynamicFields$terbil = dynamicFields.terbilang) !== null && _dynamicFields$terbil !== void 0 ? _dynamicFields$terbil : formData.terbilang) !== null && _ref3 !== void 0 ? _ref3 : numberToWords(jumlah);\n  const tanggalFormatted = formData.tanggal ? new Date(formData.tanggal).toLocaleDateString('id-ID', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  }) : '[Tanggal]';\n  newContent = newContent\n  // ✅ KOREKSI: Menggunakan placeholder baru\n  .replace('{{kop_surat_inti}}', kopSuratIntiHTML).replace('{{qrcode}}', qrCodeHTML).replace(/{{nomor_kwitansi}}/g, formData.no_kwitansi || '001/KWT/XX/IX/2025').replace(/{{nama_penerima}}/g, (selectedProfil === null || selectedProfil === void 0 ? void 0 : selectedProfil.nama) || '[Nama Penerima]').replace(/{{terbilang}}/g, terbilangValue || 'Nol').replace(/{{untuk_pembayaran}}/g, untuk_pembayaran).replace(/{{jumlah_rupiah}}/g, Number(jumlah).toLocaleString('id-ID', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).replace(\",00\", \",-\")).replace(/{{tanggal_kwitansi}}/g, tanggalFormatted).replace(/{{nama_perusahaan}}/g, (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Perusahaan]').replace(/{{nama_penandatangan}}/g, dynamicFields.nama_penandatangan || (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Penandatangan]');\n  return newContent;\n}","map":{"version":3,"names":["numberToWords","renderKwitansiTemplate","template","formData","dynamicFields","user","profil","_ref","_dynamicFields$jumlah","_ref2","_dynamicFields$untuk_","_ref3","_dynamicFields$terbil","newContent","baseUrl","process","env","REACT_APP_API_URL","replace","logoUrl","logo","kopSuratIntiHTML","nama","alamat","no_telp","email","qrCodeHTML","qrcode_base64","selectedProfil","find","p","id","Number","profil_id","jumlah","untuk_pembayaran","untuk","terbilangValue","terbilang","tanggalFormatted","tanggal","Date","toLocaleDateString","day","month","year","no_kwitansi","toLocaleString","minimumFractionDigits","maximumFractionDigits","nama_penandatangan"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/utils/renderKwitansiTemplate.js"],"sourcesContent":["// frontend/src/utils/renderKwitansiTemplate.js\r\nimport { numberToWords } from './numberToWords';\r\n\r\nexport function renderKwitansiTemplate(template, formData, dynamicFields, user, profil) {\r\n  if (!template || !user) return '';\r\n\r\n  let newContent = template;\r\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\r\n  const logoUrl = user?.logo ? `${baseUrl}/uploads/${user.logo}` : '';\r\n  const logo = user?.logo\r\n    ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"height: 60px; width: auto; max-width: 200px; object-fit: contain;\">`\r\n    : '';\r\n\r\n  // ✅ KOREKSI: Membuat kop surat inti tanpa tabel pembungkus\r\n  const kopSuratIntiHTML = `\r\n    <div style=\"display: flex; align-items: flex-start;\">\r\n        ${logo ? `<div style=\"margin-right: 15px;\">${logo}</div>` : ''}\r\n        <div>\r\n            <h1 style=\"margin: 0; font-size: 16px; font-weight: bold; text-transform: uppercase;\">${user?.nama || ''}</h1>\r\n            <p style=\"margin: 2px 0; font-size: 12px;\">${user?.alamat || ''}</p>\r\n            <p style=\"margin: 2px 0; font-size: 12px;\">Telp: ${user?.no_telp || ''} | Email: ${user?.email || ''}</p>\r\n        </div>\r\n    </div>\r\n  `;\r\n\r\n  const qrCodeHTML = formData.qrcode_base64\r\n    ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">`\r\n    : '';\r\n\r\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\r\n  const jumlah = dynamicFields.jumlah ?? formData.jumlah ?? 0;\r\n  const untuk_pembayaran = dynamicFields.untuk_pembayaran ?? formData.untuk ?? '[Tujuan Pembayaran]';\r\n  const terbilangValue = dynamicFields.terbilang ?? formData.terbilang ?? numberToWords(jumlah);\r\n\r\n  const tanggalFormatted = formData.tanggal\r\n    ? new Date(formData.tanggal).toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })\r\n    : '[Tanggal]';\r\n\r\n  newContent = newContent\r\n    // ✅ KOREKSI: Menggunakan placeholder baru\r\n    .replace('{{kop_surat_inti}}', kopSuratIntiHTML)\r\n    .replace('{{qrcode}}', qrCodeHTML)\r\n    .replace(/{{nomor_kwitansi}}/g, formData.no_kwitansi || '001/KWT/XX/IX/2025')\r\n    .replace(/{{nama_penerima}}/g, selectedProfil?.nama || '[Nama Penerima]')\r\n    .replace(/{{terbilang}}/g, terbilangValue || 'Nol')\r\n    .replace(/{{untuk_pembayaran}}/g, untuk_pembayaran)\r\n    .replace(/{{jumlah_rupiah}}/g, Number(jumlah).toLocaleString('id-ID', { minimumFractionDigits: 2, maximumFractionDigits: 2 }).replace(\",00\", \",-\"))\r\n    .replace(/{{tanggal_kwitansi}}/g, tanggalFormatted)\r\n    .replace(/{{nama_perusahaan}}/g, user?.nama || '[Nama Perusahaan]')\r\n    .replace(/{{nama_penandatangan}}/g, dynamicFields.nama_penandatangan || user?.nama || '[Nama Penandatangan]');\r\n    \r\n  return newContent;\r\n}   "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}