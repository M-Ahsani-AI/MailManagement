{"ast":null,"code":"export function renderBastTemplate(template, formData, dynamicFields, items, user) {\n  if (!template) return '';\n  let newContent = template;\n\n  // === HEADER ===\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\n  const logoUrl = user !== null && user !== void 0 && user.logo ? `${baseUrl}/uploads/${user.logo}` : '';\n  const logo = user !== null && user !== void 0 && user.logo ? `<img src=\"${logoUrl}\" alt=\"Logo\" \n        style=\"max-width:310px; max-height:155px; object-fit:contain; margin-left:auto;\">` : '';\n  const headerHTML = `\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 4px solid black; padding-bottom: 10px; margin-bottom: 20px;\">\n        <div>\n        <h1 style=\"margin: 0; font-size: 18px; font-weight: bold; text-transform: uppercase;\">${(user === null || user === void 0 ? void 0 : user.nama) || ''}</h1>\n        <p style=\"margin: 5px 0; font-size: 12px;\">${(user === null || user === void 0 ? void 0 : user.alamat) || ''}</p>\n        <p style=\"margin: 5px 0; font-size: 12px;\">Telp: ${(user === null || user === void 0 ? void 0 : user.no_telp) || ''} | Email: ${(user === null || user === void 0 ? void 0 : user.email) || ''}</p>\n    </div>\n        ${logo ? `<div style=\"text-align:right;\">${logo}</div>` : ''}\n    </div>\n    `;\n\n  // QR Code\n  const qrCodeHTML = formData.qrcode_base64 ? `<div style=\"width:100%; text-align:right; margin:10px 0;\">\n       <img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">\n     </div>` : `<div style=\"width:100%; text-align:right; margin:10px 0;\">\n       <div style=\"width: 80px; height: 80px; border: 1px solid #ccc; font-size: 10px; \n                   display: flex; align-items: center; justify-content: center; color: #888;\">\n         QR Placeholder\n       </div>\n     </div>`;\n\n  // Tabel Produk\n  const tableRows = items.map(item => {\n    const totalHarga = (Number(item.qty) || 0) * (Number(item.harga_per_unit) || 0);\n    const formatCurrency = num => `Rp ${Number(num || 0).toLocaleString('id-ID')}`;\n    return `\n            <tr>\n                <td style=\"border: 2px solid #000; padding: 6px;\">${item.produk || ''}</td>\n                <td style=\"border: 2px solid #000; padding: 6px;\">${item.deskripsi || ''}</td>\n                <td style=\"border: 2px solid #000; text-align: center; padding: 6px;\">${item.qty || 0}</td>\n                <td style=\"border: 2px solid #000; text-align: center; padding: 6px;\">${formatCurrency(item.harga_per_unit)}</td>\n                <td style=\"border: 2px solid #000; text-align: center; padding: 6px;\">${formatCurrency(totalHarga)}</td>\n                <td style=\"border: 2px solid #000; padding: 6px;\">${item.kondisi || ''}</td>\n            </tr>\n        `;\n  }).join('');\n  const tableHTML = items.length > 0 ? `\n        <table style=\"width: 100%; border-collapse: collapse; font-size: 12px; margin: 20px 0;\">\n            <thead>\n                <tr style=\"background-color: #f2f2f2;\">\n                    <th style=\"border: 2px solid #000; padding: 8px; text-align: left;\">Produk</th>\n                    <th style=\"border: 2px solid #000; padding: 8px; text-align: left;\">Deskripsi</th>\n                    <th style=\"border: 2px solid #000; padding: 8px;\">Qty</th>\n                    <th style=\"border: 2px solid #000; padding: 8px;\">Harga per unit</th>\n                    <th style=\"border: 2px solid #000; padding: 8px;\">Total harga</th>\n                    <th style=\"border: 2px solid #000; padding: 8px; text-align: left;\">Kondisi barang</th>\n                </tr>\n            </thead>\n            <tbody>${tableRows}</tbody>\n        </table>` : '<p><i>(Belum ada rincian produk/jasa)</i></p>';\n\n  // Data Tanggal\n  const tanggal = new Date(formData.tanggal || Date.now());\n  const options = {\n    weekday: 'long',\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  };\n  const tanggalLengkap = tanggal.toLocaleDateString('id-ID', options).split(', ')[1];\n  const namaHari = tanggal.toLocaleDateString('id-ID', {\n    weekday: 'long'\n  });\n  const tanggalSingkat = tanggal.toLocaleDateString('id-ID', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  });\n\n  // ✅ KOREKSI 2: Ganti semua placeholder dengan data yang relevan\n  newContent = newContent.replace('{{kop_surat}}', headerHTML).replace('{{qrcode}}', qrCodeHTML).replace('{{tabel_produk}}', tableHTML).replace(/{{nomor_dokumen}}/g, formData.no_bast || '...').replace(/{{perihal}}/g, formData.perihal || '...').replace(/{{nama_hari}}/g, namaHari).replace(/{{tanggal_dokumen}}/g, tanggalLengkap).replace(/{{tanggal_dokumen_singkat}}/g, tanggalSingkat).replace(/{{nama_pihak_pertama}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.nama_pihak_pertama) || (user === null || user === void 0 ? void 0 : user.nama) || '-').replace(/{{jabatan_pihak_pertama}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.jabatan_pihak_pertama) || '-').replace(/{{alamat_pihak_pertama}}/g, (user === null || user === void 0 ? void 0 : user.alamat) || '-').replace(/{{nama_pihak_kedua}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.nama_pihak_kedua) || '-').replace(/{{jabatan_pihak_kedua}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.jabatan_pihak_kedua) || '-').replace(/{{nip_pihak_kedua}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.nip_pihak_kedua) || '-').replace(/{{alamat_pihak_kedua}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.alamat_pihak_kedua) || '-');\n  return newContent;\n}","map":{"version":3,"names":["renderBastTemplate","template","formData","dynamicFields","items","user","newContent","baseUrl","process","env","REACT_APP_API_URL","replace","logoUrl","logo","headerHTML","nama","alamat","no_telp","email","qrCodeHTML","qrcode_base64","tableRows","map","item","totalHarga","Number","qty","harga_per_unit","formatCurrency","num","toLocaleString","produk","deskripsi","kondisi","join","tableHTML","length","tanggal","Date","now","options","weekday","day","month","year","tanggalLengkap","toLocaleDateString","split","namaHari","tanggalSingkat","no_bast","perihal","nama_pihak_pertama","jabatan_pihak_pertama","nama_pihak_kedua","jabatan_pihak_kedua","nip_pihak_kedua","alamat_pihak_kedua"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/utils/renderBastTemplate.js"],"sourcesContent":["export function renderBastTemplate(template, formData, dynamicFields, items, user) {\r\n    if (!template) return '';\r\n\r\n    let newContent = template;\r\n\r\n  // === HEADER ===\r\n    const baseUrl = process.env.REACT_APP_API_URL.replace('/api', ''); \r\n    const logoUrl = user?.logo ? `${baseUrl}/uploads/${user.logo}` : '';\r\n    const logo = user?.logo\r\n    ? `<img src=\"${logoUrl}\" alt=\"Logo\" \r\n        style=\"max-width:310px; max-height:155px; object-fit:contain; margin-left:auto;\">`\r\n    : '';\r\n    const headerHTML = `\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 4px solid black; padding-bottom: 10px; margin-bottom: 20px;\">\r\n        <div>\r\n        <h1 style=\"margin: 0; font-size: 18px; font-weight: bold; text-transform: uppercase;\">${user?.nama || ''}</h1>\r\n        <p style=\"margin: 5px 0; font-size: 12px;\">${user?.alamat || ''}</p>\r\n        <p style=\"margin: 5px 0; font-size: 12px;\">Telp: ${user?.no_telp || ''} | Email: ${user?.email || ''}</p>\r\n    </div>\r\n        ${logo ? `<div style=\"text-align:right;\">${logo}</div>` : ''}\r\n    </div>\r\n    `;\r\n\r\n    // QR Code\r\n    const qrCodeHTML = formData.qrcode_base64\r\n  ? `<div style=\"width:100%; text-align:right; margin:10px 0;\">\r\n       <img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">\r\n     </div>`\r\n  : `<div style=\"width:100%; text-align:right; margin:10px 0;\">\r\n       <div style=\"width: 80px; height: 80px; border: 1px solid #ccc; font-size: 10px; \r\n                   display: flex; align-items: center; justify-content: center; color: #888;\">\r\n         QR Placeholder\r\n       </div>\r\n     </div>`;\r\n\r\n    // Tabel Produk\r\n    const tableRows = items.map(item => {\r\n        const totalHarga = (Number(item.qty) || 0) * (Number(item.harga_per_unit) || 0);\r\n        const formatCurrency = (num) => `Rp ${Number(num || 0).toLocaleString('id-ID')}`;\r\n        return `\r\n            <tr>\r\n                <td style=\"border: 2px solid #000; padding: 6px;\">${item.produk || ''}</td>\r\n                <td style=\"border: 2px solid #000; padding: 6px;\">${item.deskripsi || ''}</td>\r\n                <td style=\"border: 2px solid #000; text-align: center; padding: 6px;\">${item.qty || 0}</td>\r\n                <td style=\"border: 2px solid #000; text-align: center; padding: 6px;\">${formatCurrency(item.harga_per_unit)}</td>\r\n                <td style=\"border: 2px solid #000; text-align: center; padding: 6px;\">${formatCurrency(totalHarga)}</td>\r\n                <td style=\"border: 2px solid #000; padding: 6px;\">${item.kondisi || ''}</td>\r\n            </tr>\r\n        `;\r\n    }).join('');\r\n\r\n    const tableHTML = items.length > 0 ? `\r\n        <table style=\"width: 100%; border-collapse: collapse; font-size: 12px; margin: 20px 0;\">\r\n            <thead>\r\n                <tr style=\"background-color: #f2f2f2;\">\r\n                    <th style=\"border: 2px solid #000; padding: 8px; text-align: left;\">Produk</th>\r\n                    <th style=\"border: 2px solid #000; padding: 8px; text-align: left;\">Deskripsi</th>\r\n                    <th style=\"border: 2px solid #000; padding: 8px;\">Qty</th>\r\n                    <th style=\"border: 2px solid #000; padding: 8px;\">Harga per unit</th>\r\n                    <th style=\"border: 2px solid #000; padding: 8px;\">Total harga</th>\r\n                    <th style=\"border: 2px solid #000; padding: 8px; text-align: left;\">Kondisi barang</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>${tableRows}</tbody>\r\n        </table>` : '<p><i>(Belum ada rincian produk/jasa)</i></p>';\r\n\r\n    // Data Tanggal\r\n    const tanggal = new Date(formData.tanggal || Date.now());\r\n    const options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };\r\n    const tanggalLengkap = tanggal.toLocaleDateString('id-ID', options).split(', ')[1];\r\n    const namaHari = tanggal.toLocaleDateString('id-ID', { weekday: 'long' });\r\n    const tanggalSingkat = tanggal.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });\r\n\r\n    // ✅ KOREKSI 2: Ganti semua placeholder dengan data yang relevan\r\n    newContent = newContent\r\n        .replace('{{kop_surat}}', headerHTML)\r\n        .replace('{{qrcode}}', qrCodeHTML)\r\n        .replace('{{tabel_produk}}', tableHTML)\r\n        .replace(/{{nomor_dokumen}}/g, formData.no_bast || '...')\r\n        .replace(/{{perihal}}/g, formData.perihal || '...')\r\n        .replace(/{{nama_hari}}/g, namaHari)\r\n        .replace(/{{tanggal_dokumen}}/g, tanggalLengkap)\r\n        .replace(/{{tanggal_dokumen_singkat}}/g, tanggalSingkat)\r\n        .replace(/{{nama_pihak_pertama}}/g, dynamicFields?.nama_pihak_pertama || user?.nama || '-')\r\n        .replace(/{{jabatan_pihak_pertama}}/g, dynamicFields?.jabatan_pihak_pertama || '-')\r\n        .replace(/{{alamat_pihak_pertama}}/g, user?.alamat || '-')\r\n        .replace(/{{nama_pihak_kedua}}/g, dynamicFields?.nama_pihak_kedua || '-')\r\n        .replace(/{{jabatan_pihak_kedua}}/g, dynamicFields?.jabatan_pihak_kedua || '-')\r\n        .replace(/{{nip_pihak_kedua}}/g, dynamicFields?.nip_pihak_kedua || '-')\r\n        .replace(/{{alamat_pihak_kedua}}/g, dynamicFields?.alamat_pihak_kedua || '-');\r\n\r\n    return newContent;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}