{"ast":null,"code":"/**\r\n * Merender template BAST dengan mengganti placeholder dengan data dinamis.\r\n * @param {string} template - String HTML template asli.\r\n * @param {object} formData - Data utama dari form (tanggal, no_bast, etc.).\r\n * @param {object} dynamicFields - Data dari field dinamis (nama_pihak_terlibat, etc.).\r\n * @param {object} user - Objek user yang sedang login.\r\n * @param {Array} profil - Array semua profil untuk mencari data tujuan.\r\n * @returns {string} - String HTML yang sudah dirender.\r\n */\nexport function renderBastTemplate(template, formData, dynamicFields, items, user, profil) {\n  if (!template) return '';\n  let newContent = template;\n\n  // === 1. RENDER KOP SURAT (HEADER) ===\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', '');\n  const logoUrl = user !== null && user !== void 0 && user.logo ? `${baseUrl}/uploads/${user.logo}` : '';\n  const logo = user !== null && user !== void 0 && user.logo ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"max-width:310px; max-height:155px; object-fit:contain; margin-left:auto;\">` : '';\n  const headerHTML = `\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 4px solid black; padding-bottom: 10px; margin-bottom: 20px;\">\n      <div>\n        <h1 style=\"margin: 0; font-size: 18px; font-weight: bold; text-transform: uppercase;\">${(user === null || user === void 0 ? void 0 : user.nama) || ''}</h1>\n        <p style=\"margin: 5px 0; font-size: 12px;\">${(user === null || user === void 0 ? void 0 : user.alamat) || ''}</p>\n        <p style=\"margin: 5px 0; font-size: 12px;\">Telp: ${(user === null || user === void 0 ? void 0 : user.no_telp) || ''} | Email: ${(user === null || user === void 0 ? void 0 : user.email) || ''}</p>\n      </div>\n      ${logo ? `<div style=\"text-align:right;\">${logo}</div>` : ''}\n    </div>\n  `;\n\n  // === 2. RENDER QR CODE ===\n  const qrCodeHTML = formData.qrcode_base64 ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">` : `<div style=\"width: 80px; height: 80px; border: 1px solid #ccc; font-size: 10px; display: flex; align-items: center; justify-content: center; color: #888;\">QR akan muncul setelah disimpan</div>`;\n\n  // === 3. DATA UMUM ===\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\n  const tanggalFormatted = formData.tanggal ? new Date(formData.tanggal).toLocaleDateString('id-ID', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  }) : '[Tanggal BAST]';\n\n  // === 4. GANTI SEMUA PLACEHOLDER ===\n  newContent = newContent\n  // Placeholder Wajib\n  .replace('{{kop_surat}}', headerHTML).replace('{{qrcode}}', qrCodeHTML)\n\n  // Info Dokumen\n  .replace(/{{nomor_bast}}/g, formData.no_bast || '.../.../.../.../...').replace(/{{tanggal_bast}}/g, tanggalFormatted)\n\n  // Info Pihak Terlibat\n  .replace(/{{nama_pihak_pertama}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.nama_pihak_terlibat) || '[Nama Pihak Pertama]').replace(/{{jabatan_pihak_pertama}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.jabatan_pihak_terlibat) || '[Jabatan Pihak Pertama]').replace(/{{nama_pihak_kedua}}/g, (selectedProfil === null || selectedProfil === void 0 ? void 0 : selectedProfil.nama) || '[Nama Pihak Kedua]').replace(/{{jabatan_pihak_kedua}}/g, (selectedProfil === null || selectedProfil === void 0 ? void 0 : selectedProfil.jabatan) || '[Jabatan Pihak Kedua]')\n\n  // Info Penandatangan (User)\n  .replace(/{{nama_penandatangan}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.nama_penandatangan) || (user === null || user === void 0 ? void 0 : user.nama) || '[Nama Penandatangan]').replace(/{{jabatan_penandatangan}}/g, (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields.jabatan_penandatangan) || '[Jabatan Anda]');\n  return newContent;\n}","map":{"version":3,"names":["renderBastTemplate","template","formData","dynamicFields","items","user","profil","newContent","baseUrl","process","env","REACT_APP_API_URL","replace","logoUrl","logo","headerHTML","nama","alamat","no_telp","email","qrCodeHTML","qrcode_base64","selectedProfil","find","p","id","Number","profil_id","tanggalFormatted","tanggal","Date","toLocaleDateString","day","month","year","no_bast","nama_pihak_terlibat","jabatan_pihak_terlibat","jabatan","nama_penandatangan","jabatan_penandatangan"],"sources":["C:/Users/moham/Documents/CODE/SURAT CV MALIKI/frontend/src/pages/BastVerifyPages.js"],"sourcesContent":["/**\r\n * Merender template BAST dengan mengganti placeholder dengan data dinamis.\r\n * @param {string} template - String HTML template asli.\r\n * @param {object} formData - Data utama dari form (tanggal, no_bast, etc.).\r\n * @param {object} dynamicFields - Data dari field dinamis (nama_pihak_terlibat, etc.).\r\n * @param {object} user - Objek user yang sedang login.\r\n * @param {Array} profil - Array semua profil untuk mencari data tujuan.\r\n * @returns {string} - String HTML yang sudah dirender.\r\n */\r\nexport function renderBastTemplate(template, formData, dynamicFields, items, user, profil) {\r\n  if (!template) return '';\r\n\r\n  let newContent = template;\r\n\r\n  // === 1. RENDER KOP SURAT (HEADER) ===\r\n  const baseUrl = process.env.REACT_APP_API_URL.replace('/api', ''); \r\n  const logoUrl = user?.logo ? `${baseUrl}/uploads/${user.logo}` : '';\r\n  const logo = user?.logo\r\n    ? `<img src=\"${logoUrl}\" alt=\"Logo\" style=\"max-width:310px; max-height:155px; object-fit:contain; margin-left:auto;\">`\r\n    : '';\r\n  \r\n  const headerHTML = `\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 4px solid black; padding-bottom: 10px; margin-bottom: 20px;\">\r\n      <div>\r\n        <h1 style=\"margin: 0; font-size: 18px; font-weight: bold; text-transform: uppercase;\">${user?.nama || ''}</h1>\r\n        <p style=\"margin: 5px 0; font-size: 12px;\">${user?.alamat || ''}</p>\r\n        <p style=\"margin: 5px 0; font-size: 12px;\">Telp: ${user?.no_telp || ''} | Email: ${user?.email || ''}</p>\r\n      </div>\r\n      ${logo ? `<div style=\"text-align:right;\">${logo}</div>` : ''}\r\n    </div>\r\n  `;\r\n\r\n  // === 2. RENDER QR CODE ===\r\n  const qrCodeHTML = formData.qrcode_base64\r\n    ? `<img src=\"${formData.qrcode_base64}\" alt=\"QR Code\" style=\"width: 80px; height: 80px;\">`\r\n    : `<div style=\"width: 80px; height: 80px; border: 1px solid #ccc; font-size: 10px; display: flex; align-items: center; justify-content: center; color: #888;\">QR akan muncul setelah disimpan</div>`;\r\n\r\n  // === 3. DATA UMUM ===\r\n  const selectedProfil = profil.find(p => p.id === Number(formData.profil_id));\r\n  const tanggalFormatted = formData.tanggal\r\n    ? new Date(formData.tanggal).toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })\r\n    : '[Tanggal BAST]';\r\n\r\n  // === 4. GANTI SEMUA PLACEHOLDER ===\r\n  newContent = newContent\r\n    // Placeholder Wajib\r\n    .replace('{{kop_surat}}', headerHTML)\r\n    .replace('{{qrcode}}', qrCodeHTML)\r\n    \r\n    // Info Dokumen\r\n    .replace(/{{nomor_bast}}/g, formData.no_bast || '.../.../.../.../...')\r\n    .replace(/{{tanggal_bast}}/g, tanggalFormatted)\r\n    \r\n    // Info Pihak Terlibat\r\n    .replace(/{{nama_pihak_pertama}}/g, dynamicFields?.nama_pihak_terlibat || '[Nama Pihak Pertama]')\r\n    .replace(/{{jabatan_pihak_pertama}}/g, dynamicFields?.jabatan_pihak_terlibat || '[Jabatan Pihak Pertama]')\r\n    .replace(/{{nama_pihak_kedua}}/g, selectedProfil?.nama || '[Nama Pihak Kedua]')\r\n    .replace(/{{jabatan_pihak_kedua}}/g, selectedProfil?.jabatan || '[Jabatan Pihak Kedua]')\r\n    \r\n    // Info Penandatangan (User)\r\n    .replace(/{{nama_penandatangan}}/g, dynamicFields?.nama_penandatangan || user?.nama || '[Nama Penandatangan]')\r\n    .replace(/{{jabatan_penandatangan}}/g, dynamicFields?.jabatan_penandatangan || '[Jabatan Anda]');\r\n\r\n  return newContent;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}